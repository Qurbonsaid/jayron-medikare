{
  "swaggerDoc": {
    "openapi": "3.1.0",
    "info": {
      "title": "API Documentation",
      "description": "This is the API documentation for the backend service.",
      "version": "1.0.0",
      "contact": {
        "name": "Support Team"
      }
    },
    "servers": [
      {
        "url": "https://api.jayronmed.uz",
        "description": "Production server"
      },
      {
        "url": "http://localhost:8080",
        "description": "Local development server"
      }
    ],
    "components": {
      "schemas": {},
      "securitySchemes": {
        "bearerAuth": {
          "type": "http",
          "scheme": "bearer",
          "bearerFormat": "JWT"
        }
      }
    },
    "security": [
      {
        "bearerAuth": []
      }
    ],
    "paths": {
      "/upload/file": {
        "post": {
          "tags": ["Upload"],
          "summary": "Upload a single file — Allowed: Authenticated users",
          "requestBody": {
            "required": true,
            "content": {
              "multipart/form-data": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "file": {
                      "type": "string",
                      "format": "binary"
                    }
                  },
                  "required": ["file"]
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "File uploaded successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "url": {
                        "type": "string",
                        "example": "/uploads/abc.jpg"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/upload/files": {
        "post": {
          "tags": ["Upload"],
          "summary": "Upload multiple files — Allowed: Authenticated users",
          "requestBody": {
            "required": true,
            "content": {
              "multipart/form-data": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "files": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "format": "binary"
                      }
                    }
                  },
                  "required": ["files"]
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Files uploaded successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "urls": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "example": ["/uploads/a.jpg", "/uploads/b.jpg"]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/auth/login": {
        "post": {
          "tags": ["Auth"],
          "summary": "User login — Allowed: Public",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "username": {
                      "type": "string",
                      "example": "user123"
                    },
                    "password": {
                      "type": "string",
                      "example": "password"
                    }
                  },
                  "required": ["username", "password"]
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Login successful",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "access_token": {
                        "type": "string",
                        "example": "eyJhbGciOi..."
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Invalid username or password"
            }
          }
        }
      },
      "/auth/sign-up/ceo": {
        "post": {
          "tags": ["Auth"],
          "summary": "CEO sign-up — Allowed: Public (registration key required)",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "username": {
                      "type": "string",
                      "example": "ceo123"
                    },
                    "password": {
                      "type": "string",
                      "example": "password"
                    },
                    "reg_key": {
                      "type": "string",
                      "example": "registrationkey789"
                    }
                  },
                  "required": ["username", "password", "reg_key"]
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "CEO created successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "CEO created successfully"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Invalid input or registration key"
            }
          }
        }
      },
      "/auth/me": {
        "get": {
          "tags": ["Auth"],
          "summary": "Get current user (requires auth) — Allowed: Authenticated users",
          "responses": {
            "200": {
              "description": "Current user data",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "_id": {
                            "type": "string"
                          },
                          "username": {
                            "type": "string"
                          },
                          "fullname": {
                            "type": "string"
                          },
                          "phone": {
                            "type": "string"
                          },
                          "role": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Unauthorized"
            }
          }
        }
      },
      "/auth/update-me": {
        "patch": {
          "tags": ["Auth"],
          "summary": "Update current user's profile — Allowed: Authenticated users",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "fullname": {
                      "type": "string"
                    },
                    "username": {
                      "type": "string"
                    },
                    "phone": {
                      "type": "string",
                      "example": "+998901234567"
                    },
                    "license_number": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Profile updated successfully"
            },
            "400": {
              "description": "Validation error or duplicate field"
            },
            "401": {
              "description": "Unauthorized"
            }
          }
        }
      },
      "/auth/update-password": {
        "patch": {
          "tags": ["Auth"],
          "summary": "Update current user's password — Allowed: Authenticated users",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "old_password": {
                      "type": "string",
                      "example": "oldPass"
                    },
                    "new_password": {
                      "type": "string",
                      "example": "newPass123"
                    }
                  },
                  "required": ["old_password", "new_password"]
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Password updated successfully"
            },
            "400": {
              "description": "Incorrect old password or validation error"
            },
            "401": {
              "description": "Unauthorized"
            }
          }
        }
      },
      "/user/create": {
        "post": {
          "tags": ["User"],
          "summary": "Create a new user — Allowed roles: ceo",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "username": {
                      "type": "string",
                      "example": "johndoe"
                    },
                    "password": {
                      "type": "string",
                      "example": "P@ssw0rd"
                    },
                    "fullname": {
                      "type": "string",
                      "example": "John Doe"
                    },
                    "phone": {
                      "type": "string",
                      "example": "+998901234567"
                    },
                    "role": {
                      "type": "string",
                      "example": "ADMIN"
                    },
                    "section": {
                      "type": "string",
                      "example": "Кардиология"
                    },
                    "license_number": {
                      "type": "string",
                      "example": "LN-1234"
                    }
                  },
                  "required": ["username", "password", "fullname", "phone"]
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "User created successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "User created successfully"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Validation error or duplicate field"
            }
          }
        }
      },
      "/user/get-all": {
        "get": {
          "tags": ["User"],
          "summary": "Get paginated list of users — Allowed roles: ceo",
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 1
              }
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 10
              }
            },
            {
              "name": "search",
              "in": "query",
              "schema": {
                "type": "string",
                "example": "john"
              }
            },
            {
              "name": "role",
              "in": "query",
              "schema": {
                "type": "string",
                "example": "ADMIN"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "List of users",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string"
                            },
                            "username": {
                              "type": "string"
                            },
                            "fullname": {
                              "type": "string"
                            },
                            "phone": {
                              "type": "string"
                            },
                            "role": {
                              "type": "string"
                            },
                            "status": {
                              "type": "string"
                            },
                            "created_at": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        }
                      },
                      "pagination": {
                        "type": "object",
                        "properties": {
                          "page": {
                            "type": "integer"
                          },
                          "limit": {
                            "type": "integer"
                          },
                          "total_items": {
                            "type": "integer"
                          },
                          "total_pages": {
                            "type": "integer"
                          },
                          "next_page": {
                            "type": ["integer", "null"]
                          },
                          "prev_page": {
                            "type": ["integer", "null"]
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/user/get-one/{id}": {
        "get": {
          "tags": ["User"],
          "summary": "Get a single user by id — Allowed roles: ceo",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string",
                "example": "64b8f1a2c3d4e5f6a7b8c9d0"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "User object",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "_id": {
                            "type": "string"
                          },
                          "username": {
                            "type": "string"
                          },
                          "fullname": {
                            "type": "string"
                          },
                          "phone": {
                            "type": "string"
                          },
                          "role": {
                            "type": "string"
                          },
                          "section": {
                            "type": "string"
                          },
                          "status": {
                            "type": "string"
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "license_number": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "404": {
              "description": "User not found"
            }
          }
        }
      },
      "/user/update/{id}": {
        "put": {
          "tags": ["User"],
          "summary": "Update a user — Allowed roles: ceo",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string",
                "example": "64b8f1a2c3d4e5f6a7b8c9d0"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "fullname": {
                      "type": "string"
                    },
                    "username": {
                      "type": "string"
                    },
                    "phone": {
                      "type": "string"
                    },
                    "role": {
                      "type": "string"
                    },
                    "section": {
                      "type": "string"
                    },
                    "license_number": {
                      "type": "string"
                    },
                    "password": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "User updated successfully"
            },
            "400": {
              "description": "Validation error or duplicate field"
            },
            "404": {
              "description": "User not found"
            }
          }
        }
      },
      "/user/delete/{id}": {
        "delete": {
          "tags": ["User"],
          "summary": "Delete a user by id — Allowed roles: ceo",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string",
                "example": "64b8f1a2c3d4e5f6a7b8c9d0"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "User deleted successfully"
            },
            "404": {
              "description": "User not found"
            }
          }
        }
      },
      "/settings/get": {
        "post": {
          "tags": ["Settings"],
          "summary": "Get current application settings — Allowed roles: ceo",
          "responses": {
            "200": {
              "description": "Settings retrieved successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "clinic_name": {
                            "type": "string",
                            "example": "JayronXona"
                          },
                          "address": {
                            "type": "string",
                            "example": "123 Main St"
                          },
                          "phone": {
                            "type": "string",
                            "example": "555-1234"
                          },
                          "email": {
                            "type": "string",
                            "format": "email",
                            "example": "info@jayronxona.com"
                          },
                          "work_start_time": {
                            "type": "string",
                            "example": "09:00"
                          },
                          "work_end_time": {
                            "type": "string",
                            "example": "17:00"
                          },
                          "logo_path": {
                            "type": "string",
                            "example": "/uploads/logo.png"
                          },
                          "updated_at": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "404": {
              "description": "Settings not found"
            }
          }
        }
      },
      "/settings/update": {
        "put": {
          "tags": ["Settings"],
          "summary": "Update application settings — Allowed roles: ceo",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "clinic_name": {
                      "type": "string",
                      "example": "JayronXona"
                    },
                    "address": {
                      "type": "string",
                      "example": "123 Main St"
                    },
                    "phone": {
                      "type": "string",
                      "example": "555-1234"
                    },
                    "email": {
                      "type": "string",
                      "format": "email",
                      "example": "info@jayronxona.com"
                    },
                    "work_start_time": {
                      "type": "string",
                      "example": "09:00"
                    },
                    "work_end_time": {
                      "type": "string",
                      "example": "17:00"
                    },
                    "logo_path": {
                      "type": "string",
                      "example": "/uploads/logo.png"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Settings updated successfully"
            },
            "400": {
              "description": "Validation error"
            },
            "404": {
              "description": "Settings not found"
            }
          }
        }
      },
      "/corpus/create": {
        "post": {
          "tags": ["Corpus"],
          "summary": "Create a new corpus",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "corpus_number": {
                      "type": "integer",
                      "example": 1,
                      "description": "Корпус рақами (такрорланмаслиги керак)"
                    },
                    "description": {
                      "type": "string",
                      "example": "Асосий корпус"
                    },
                    "total_rooms": {
                      "type": "integer",
                      "example": 50,
                      "description": "Умумий хоналар сони"
                    }
                  },
                  "required": ["corpus_number", "total_rooms"]
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Corpus created successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Corpus created successfully"
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "_id": {
                            "type": "string"
                          },
                          "corpus_number": {
                            "type": "integer"
                          },
                          "description": {
                            "type": "string"
                          },
                          "total_rooms": {
                            "type": "integer"
                          },
                          "status": {
                            "type": "string"
                          },
                          "created_at": {
                            "type": "string"
                          },
                          "updated_at": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "409": {
              "description": "Corpus number already exists"
            }
          }
        }
      },
      "/corpus/get-all": {
        "get": {
          "tags": ["Corpus"],
          "summary": "Get all corpuses with pagination",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 1
              }
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 10
              }
            },
            {
              "name": "search",
              "in": "query",
              "schema": {
                "type": "string"
              }
            },
            {
              "name": "corpus_number",
              "in": "query",
              "schema": {
                "type": "integer"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "List of corpuses",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean"
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string"
                            },
                            "corpus_number": {
                              "type": "integer"
                            },
                            "description": {
                              "type": "string"
                            },
                            "total_rooms": {
                              "type": "integer"
                            },
                            "status": {
                              "type": "string"
                            }
                          }
                        }
                      },
                      "pagination": {
                        "type": "object"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/corpus/get-one/{id}": {
        "get": {
          "tags": ["Corpus"],
          "summary": "Get corpus by ID",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Corpus found"
            },
            "404": {
              "description": "Corpus not found"
            }
          }
        }
      },
      "/corpus/update/{id}": {
        "put": {
          "tags": ["Corpus"],
          "summary": "Update corpus",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "corpus_number": {
                      "type": "integer"
                    },
                    "description": {
                      "type": "string"
                    },
                    "total_rooms": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Corpus updated"
            },
            "404": {
              "description": "Corpus not found"
            }
          }
        }
      },
      "/corpus/delete/{id}": {
        "delete": {
          "tags": ["Corpus"],
          "summary": "Delete corpus",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Corpus deleted"
            },
            "404": {
              "description": "Corpus not found"
            }
          }
        }
      },
      "/room/create": {
        "post": {
          "tags": ["Room"],
          "summary": "Create a new room",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "room_name": {
                      "type": "string",
                      "example": "101-xona"
                    },
                    "room_price": {
                      "type": "number",
                      "example": 150000,
                      "description": "Хона нархи"
                    },
                    "corpus_id": {
                      "type": "string",
                      "example": "64b8f1a2c3d4e5f6a7b8c9d0"
                    },
                    "patient_capacity": {
                      "type": "integer",
                      "example": 4,
                      "description": "Умумий сиғим (беморлар ётоғи)"
                    },
                    "patient_occupied": {
                      "type": "integer",
                      "example": 0,
                      "description": "Бант бўлган ётоқлар сони"
                    },
                    "patients": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "patient": {
                            "type": "string",
                            "example": "64b8f1a2c3d4e5f6a7b8c9d1",
                            "description": "Бемор ID"
                          },
                          "start_date": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-11-03T10:00:00Z",
                            "description": "Кириш санаси"
                          },
                          "end_date": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-11-10T10:00:00Z",
                            "description": "Чиқиш санаси"
                          }
                        }
                      },
                      "example": []
                    },
                    "floor_number": {
                      "type": "integer",
                      "example": 1,
                      "description": "Нечанчи қават"
                    },
                    "description": {
                      "type": "string",
                      "example": "VIP хона, балкон билан"
                    }
                  },
                  "required": [
                    "room_name",
                    "room_price",
                    "corpus_id",
                    "patient_capacity",
                    "floor_number"
                  ]
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Room created successfully"
            },
            "400": {
              "description": "patient_occupied cannot exceed patient_capacity"
            },
            "404": {
              "description": "Corpus not found"
            }
          }
        }
      },
      "/room/get-all": {
        "get": {
          "tags": ["Room"],
          "summary": "Get all rooms with filters",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 1
              }
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 10
              }
            },
            {
              "name": "search",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "description": "Хона номи ёки тавсиф бўйича қидириш"
            },
            {
              "name": "corpus_id",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "description": "Корпус бўйича филтр"
            },
            {
              "name": "floor_number",
              "in": "query",
              "schema": {
                "type": "integer"
              },
              "description": "Қават бўйича филтр"
            },
            {
              "name": "available",
              "in": "query",
              "schema": {
                "type": "boolean",
                "example": true
              },
              "description": "Фақат бўш хоналарни кўрсатиш"
            }
          ],
          "responses": {
            "200": {
              "description": "List of rooms with corpus and patient info"
            }
          }
        }
      },
      "/room/get-one/{id}": {
        "get": {
          "tags": ["Room"],
          "summary": "Get room by ID with full details",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Room found with corpus and patients"
            },
            "404": {
              "description": "Room not found"
            }
          }
        }
      },
      "/room/update/{id}": {
        "put": {
          "tags": ["Room"],
          "summary": "Update room",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "room_name": {
                      "type": "string"
                    },
                    "room_price": {
                      "type": "number"
                    },
                    "corpus_id": {
                      "type": "string"
                    },
                    "patient_capacity": {
                      "type": "integer"
                    },
                    "patient_occupied": {
                      "type": "integer"
                    },
                    "patients": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "patient": {
                            "type": "string",
                            "example": "64b8f1a2c3d4e5f6a7b8c9d1",
                            "description": "Бемор ID"
                          },
                          "start_date": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-11-03T10:00:00Z",
                            "description": "Кириш санаси"
                          },
                          "end_date": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-11-10T10:00:00Z",
                            "description": "Чиқиш санаси"
                          }
                        }
                      },
                      "example": []
                    },
                    "floor_number": {
                      "type": "integer"
                    },
                    "description": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Room updated"
            },
            "400": {
              "description": "Validation error"
            },
            "404": {
              "description": "Room or Corpus not found"
            }
          }
        }
      },
      "/room/delete/{id}": {
        "delete": {
          "tags": ["Room"],
          "summary": "Delete room",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Room deleted"
            },
            "404": {
              "description": "Room not found"
            }
          }
        }
      },
      "/room/add-patient/{id}": {
        "post": {
          "tags": ["Room"],
          "summary": "Add patient to room",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Room ID"
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "patient_id": {
                      "type": "string",
                      "example": "64b8f1a2c3d4e5f6a7b8c9d1",
                      "description": "Patient ID to add to room"
                    },
                    "estimated_leave_time": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2025-11-30T10:00:00Z",
                      "description": "Estimated time when patient will leave the room"
                    }
                  },
                  "required": ["patient_id", "estimated_leave_time"]
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Patient added to room successfully"
            },
            "400": {
              "description": "Room is full, patient already in room, or room is not active"
            },
            "404": {
              "description": "Room or patient not found"
            }
          }
        }
      },
      "/room/remove-patient/{id}": {
        "post": {
          "tags": ["Room"],
          "summary": "Remove patient from room",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Room ID"
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "patient_id": {
                      "type": "string",
                      "example": "64b8f1a2c3d4e5f6a7b8c9d1",
                      "description": "Patient ID to remove from room"
                    }
                  },
                  "required": ["patient_id"]
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Patient removed from room successfully"
            },
            "404": {
              "description": "Room not found or patient not in room"
            }
          }
        }
      },
      "/room/update-leave-time/{id}": {
        "patch": {
          "tags": ["Room"],
          "summary": "Update estimated leave time for patient in room",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Room ID"
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "patient_id": {
                      "type": "string",
                      "example": "64b8f1a2c3d4e5f6a7b8c9d1",
                      "description": "Patient ID"
                    },
                    "estimated_leave_time": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2025-11-30T10:00:00Z",
                      "description": "New estimated leave time"
                    }
                  },
                  "required": ["patient_id", "estimated_leave_time"]
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Estimated leave time updated successfully"
            },
            "404": {
              "description": "Room or patient not found"
            }
          }
        }
      },
      "/booking/create": {
        "post": {
          "tags": ["Booking"],
          "summary": "Create a new booking",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "patient_id": {
                      "type": "string",
                      "example": "64b8f1a2c3d4e5f6a7b8c9d1",
                      "description": "Бемор ID"
                    },
                    "room_id": {
                      "type": "string",
                      "example": "64b8f1a2c3d4e5f6a7b8c9d2",
                      "description": "Хона ID"
                    },
                    "corpus_id": {
                      "type": "string",
                      "example": "64b8f1a2c3d4e5f6a7b8c9d0",
                      "description": "Корпус ID"
                    },
                    "start_at": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2025-12-01T10:00:00Z",
                      "description": "Бронь бошланиш санаси"
                    },
                    "end_at": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2025-12-05T10:00:00Z",
                      "description": "Бронь тугаш санаси"
                    },
                    "note": {
                      "type": "string",
                      "example": "Махсус диета керак",
                      "description": "Қўшимча маълумот"
                    }
                  },
                  "required": [
                    "patient_id",
                    "room_id",
                    "corpus_id",
                    "start_at",
                    "end_at"
                  ]
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Booking created successfully"
            },
            "400": {
              "description": "start_at must be before end_at / Xona bu vaqt oralig'ida to'liq band"
            },
            "404": {
              "description": "Patient, Room or Corpus not found"
            }
          }
        }
      },
      "/booking/get-all": {
        "get": {
          "tags": ["Booking"],
          "summary": "Get all bookings with filters",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "query",
              "name": "start_date",
              "schema": {
                "type": "string",
                "format": "date-time",
                "example": "2025-12-01T00:00:00Z"
              },
              "description": "Бронларни филтрлаш учун бошланиш санаси (overlap)"
            },
            {
              "in": "query",
              "name": "end_date",
              "schema": {
                "type": "string",
                "format": "date-time",
                "example": "2025-12-31T23:59:59Z"
              },
              "description": "Бронларни филтрлаш учун тугаш санаси (overlap)"
            },
            {
              "in": "query",
              "name": "room_id",
              "schema": {
                "type": "string"
              },
              "description": "Хона ID бўйича филтрлаш"
            },
            {
              "in": "query",
              "name": "corpus_id",
              "schema": {
                "type": "string"
              },
              "description": "Корпус ID бўйича филтрлаш"
            }
          ],
          "responses": {
            "200": {
              "description": "Bookings retrieved successfully"
            }
          }
        }
      },
      "/booking/search-patients": {
        "get": {
          "tags": ["Booking"],
          "summary": "Bemor ism, telefon yoki passport orqali qidirish",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "query",
              "name": "search",
              "required": false,
              "schema": {
                "type": "string"
              },
              "description": "Bemor ismi, telefon raqami yoki passport seriyasi (agar bo'sh bo'lsa, barcha bookinglar qaytariladi)",
              "example": "Alisher"
            }
          ],
          "responses": {
            "200": {
              "description": "Bemorlar va ularning bronlari topildi",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Bronlar muvaffaqiyatli olindi"
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string"
                            },
                            "patient_id": {
                              "type": "object",
                              "properties": {
                                "_id": {
                                  "type": "string"
                                },
                                "fullname": {
                                  "type": "string"
                                },
                                "phone": {
                                  "type": "string"
                                },
                                "passport_serial": {
                                  "type": "string"
                                }
                              }
                            },
                            "room_id": {
                              "type": "object",
                              "properties": {
                                "_id": {
                                  "type": "string"
                                },
                                "room_name": {
                                  "type": "string"
                                }
                              }
                            },
                            "corpus_id": {
                              "type": "object",
                              "properties": {
                                "_id": {
                                  "type": "string"
                                },
                                "corpus_number": {
                                  "type": "integer"
                                }
                              }
                            },
                            "bed_number": {
                              "type": "integer"
                            },
                            "start_at": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "end_at": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Search parametri bo'sh"
            }
          }
        }
      },
      "/booking/get-by-patient/:patient_id": {
        "get": {
          "tags": ["Booking"],
          "summary": "Bemorning barcha bronlarini olish",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "path",
              "name": "patient_id",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Bemor ID",
              "example": "64b8f1a2c3d4e5f6a7b8c9d1"
            }
          ],
          "responses": {
            "200": {
              "description": "Bemorning bronlari muvaffaqiyatli olindi",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Bronlar muvaffaqiyatli olindi"
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string"
                            },
                            "patient_id": {
                              "type": "object",
                              "properties": {
                                "_id": {
                                  "type": "string"
                                },
                                "first_name": {
                                  "type": "string"
                                },
                                "last_name": {
                                  "type": "string"
                                }
                              }
                            },
                            "room_id": {
                              "type": "object",
                              "properties": {
                                "_id": {
                                  "type": "string"
                                },
                                "room_name": {
                                  "type": "string"
                                },
                                "patient_capacity": {
                                  "type": "integer"
                                },
                                "floor_number": {
                                  "type": "integer"
                                }
                              }
                            },
                            "corpus_id": {
                              "type": "object",
                              "properties": {
                                "_id": {
                                  "type": "string"
                                },
                                "corpus_number": {
                                  "type": "integer"
                                }
                              }
                            },
                            "start_at": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2025-12-01T10:00:00Z"
                            },
                            "end_at": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2025-12-05T10:00:00Z"
                            },
                            "note": {
                              "type": "string",
                              "example": "Maxsus dieta kerak"
                            },
                            "created_at": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "updated_at": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/booking/available-rooms": {
        "get": {
          "tags": ["Booking"],
          "summary": "Get all rooms with availability information",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "query",
              "name": "corpus_id",
              "schema": {
                "type": "string"
              },
              "description": "Корпус ID бўйича филтрлаш"
            },
            {
              "in": "query",
              "name": "room_id",
              "schema": {
                "type": "string"
              },
              "description": "Хона ID бўйича филтрлаш"
            },
            {
              "in": "query",
              "name": "start_date",
              "schema": {
                "type": "string",
                "format": "date-time"
              },
              "description": "Мавжудликни текшириш учун бошланиш санаси"
            },
            {
              "in": "query",
              "name": "end_date",
              "schema": {
                "type": "string",
                "format": "date-time"
              },
              "description": "Мавжудликни текшириш учун тугаш санаси"
            }
          ],
          "responses": {
            "200": {
              "description": "Available rooms retrieved successfully - барча хоналар қайтарилади",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Available rooms retrieved successfully"
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string"
                            },
                            "room_name": {
                              "type": "string"
                            },
                            "room_price": {
                              "type": "number"
                            },
                            "corpus_id": {
                              "type": "object"
                            },
                            "patient_capacity": {
                              "type": "integer"
                            },
                            "current_occupied": {
                              "type": "integer",
                              "description": "Хозир хонада турган беморлар сони (Room.patients.length)"
                            },
                            "booking_count": {
                              "type": "integer",
                              "description": "Кўрсатилган вақт оралиғидаги бронлар сони"
                            },
                            "real_patient_count": {
                              "type": "integer",
                              "description": "Кўрсатилган вақт оралиғидаги реал беморлар сони"
                            },
                            "available_beds": {
                              "type": "integer",
                              "description": "Бўш ётоқлар сони: capacity - booking_count - real_patient_count"
                            },
                            "floor_number": {
                              "type": "integer"
                            },
                            "description": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/booking/update/:id": {
        "put": {
          "tags": ["Booking"],
          "summary": "Update booking",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "path",
              "name": "id",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Booking ID"
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "start_at": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2025-12-02T10:00:00Z"
                    },
                    "end_at": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2025-12-06T10:00:00Z"
                    },
                    "note": {
                      "type": "string",
                      "example": "Янгиланган маълумот"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Booking updated successfully"
            },
            "400": {
              "description": "start_at must be before end_at / Xona bu vaqt oralig'ida to'liq band"
            },
            "404": {
              "description": "Booking not found"
            }
          }
        }
      },
      "/booking/delete/:id": {
        "delete": {
          "tags": ["Booking"],
          "summary": "Delete booking",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "path",
              "name": "id",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Booking ID"
            }
          ],
          "responses": {
            "200": {
              "description": "Booking deleted successfully"
            },
            "404": {
              "description": "Booking not found"
            }
          }
        }
      },
      "/patient/create": {
        "post": {
          "tags": ["Patient"],
          "summary": "Create a new patient — Allowed roles: ceo, receptionist",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "fullname": {
                      "type": "string",
                      "example": "John Doe"
                    },
                    "phone": {
                      "type": "string",
                      "example": "+998901234567"
                    },
                    "gender": {
                      "type": "string",
                      "example": "male"
                    },
                    "date_of_birth": {
                      "type": "string",
                      "format": "date",
                      "example": "1990-01-01"
                    },
                    "address": {
                      "type": "string",
                      "example": "123 Main St"
                    },
                    "allergies": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "regular_medications": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "medicine": {
                            "type": "string"
                          },
                          "schedule": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "passport": {
                      "type": "object",
                      "properties": {
                        "series": {
                          "type": "string",
                          "example": "AA"
                        },
                        "number": {
                          "type": "string",
                          "example": "123456"
                        }
                      }
                    }
                  },
                  "required": [
                    "fullname",
                    "phone",
                    "gender",
                    "date_of_birth",
                    "address"
                  ]
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Patient created successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Patient created successfully"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Validation error"
            }
          }
        }
      },
      "/patient/get-all": {
        "get": {
          "tags": ["Patient"],
          "summary": "Get paginated list of patients — Allowed roles: ceo, receptionist, doctor, nurse",
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 1
              }
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 10
              }
            },
            {
              "name": "search",
              "in": "query",
              "schema": {
                "type": "string",
                "example": "John"
              }
            },
            {
              "name": "gender",
              "in": "query",
              "schema": {
                "type": "string",
                "example": "male"
              }
            },
            {
              "name": "doctor_id",
              "in": "query",
              "schema": {
                "type": "string",
                "example": "64b8f1a2c3d4e5f6a7b8c9d0"
              }
            },
            {
              "name": "is_diagnosis",
              "in": "query",
              "schema": {
                "type": "boolean",
                "example": false
              }
            }
          ],
          "responses": {
            "200": {
              "description": "List of patients",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string"
                            },
                            "patient_id": {
                              "type": "string"
                            },
                            "fullname": {
                              "type": "string"
                            },
                            "phone": {
                              "type": "string"
                            },
                            "gender": {
                              "type": "string"
                            },
                            "diagnosis": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "doctor_id": {
                                    "type": "string"
                                  },
                                  "description": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      "pagination": {
                        "type": "object",
                        "properties": {
                          "page": {
                            "type": "integer"
                          },
                          "limit": {
                            "type": "integer"
                          },
                          "total_items": {
                            "type": "integer"
                          },
                          "total_pages": {
                            "type": "integer"
                          },
                          "next_page": {
                            "type": ["integer", "null"]
                          },
                          "prev_page": {
                            "type": ["integer", "null"]
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/patient/get-one/{id}": {
        "get": {
          "tags": ["Patient"],
          "summary": "Get a single patient by id — Allowed roles: ceo, receptionist, doctor, nurse",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string",
                "example": "64b8f1a2c3d4e5f6a7b8c9d0"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Patient object",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "_id": {
                            "type": "string"
                          },
                          "patient_id": {
                            "type": "string"
                          },
                          "fullname": {
                            "type": "string"
                          },
                          "phone": {
                            "type": "string"
                          },
                          "gender": {
                            "type": "string"
                          },
                          "date_of_birth": {
                            "type": "string",
                            "format": "date"
                          },
                          "address": {
                            "type": "string"
                          },
                          "allergies": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "regular_medications": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "medicine": {
                                  "type": "string"
                                },
                                "schedule": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "diagnosis": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "doctor_id": {
                                  "type": "string"
                                },
                                "description": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "passport": {
                            "type": "object",
                            "properties": {
                              "series": {
                                "type": "string"
                              },
                              "number": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "404": {
              "description": "Patient not found"
            }
          }
        }
      },
      "/patient/update/{id}": {
        "put": {
          "tags": ["Patient"],
          "summary": "Update a patient — Allowed roles: ceo, receptionist",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string",
                "example": "64b8f1a2c3d4e5f6a7b8c9d0"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "fullname": {
                      "type": "string"
                    },
                    "phone": {
                      "type": "string"
                    },
                    "gender": {
                      "type": "string"
                    },
                    "date_of_birth": {
                      "type": "string",
                      "format": "date"
                    },
                    "address": {
                      "type": "string"
                    },
                    "allergies": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "regular_medications": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "medicine": {
                            "type": "string"
                          },
                          "schedule": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "passport": {
                      "type": "object",
                      "properties": {
                        "series": {
                          "type": "string"
                        },
                        "number": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Patient updated successfully"
            },
            "400": {
              "description": "Validation error"
            },
            "404": {
              "description": "Patient not found"
            }
          }
        }
      },
      "/patient/delete/{id}": {
        "delete": {
          "tags": ["Patient"],
          "summary": "Delete a patient by id — Allowed roles: ceo",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string",
                "example": "64b8f1a2c3d4e5f6a7b8c9d0"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Patient deleted successfully"
            },
            "404": {
              "description": "Patient not found"
            }
          }
        }
      },
      "/examination/create": {
        "post": {
          "tags": ["Examination"],
          "summary": "Create a new examination — Allowed roles: ceo, receptionist",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "patient_id",
                    "doctor_id",
                    "complaints",
                    "treatment_type"
                  ],
                  "properties": {
                    "patient_id": {
                      "type": "string",
                      "example": "653f1b2c1a2b3c4d5e6f7a8b"
                    },
                    "doctor_id": {
                      "type": "string",
                      "example": "653f1b2c1a2b3c4d5e6f7a8c"
                    },
                    "description": {
                      "type": "string",
                      "example": "Patient has a mild fever."
                    },
                    "complaints": {
                      "type": "string",
                      "example": "Headache, fever"
                    },
                    "treatment_type": {
                      "type": "string",
                      "enum": ["stasionar", "ambulator"],
                      "example": "STASIONAR"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Examination created successfully"
            },
            "404": {
              "description": "Patient or Doctor not found"
            }
          }
        }
      },
      "/examination/get-all": {
        "get": {
          "tags": ["Examination"],
          "summary": "Get all examinations — Allowed roles: ceo, receptionist, doctor",
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "minimum": 1
              },
              "required": false,
              "description": "Sahifa raqami"
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "maximum": 100
              },
              "required": false,
              "description": "Bir sahifadagi elementlar soni"
            },
            {
              "name": "doctor_id",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "required": false,
              "description": "Doktor IDsi bo'yicha filter"
            },
            {
              "name": "patient_id",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "required": false,
              "description": "Bemor IDsi bo'yicha filter"
            },
            {
              "name": "status",
              "in": "query",
              "schema": {
                "type": "string",
                "enum": [
                  "active",
                  "inactive",
                  "pending",
                  "completed",
                  "deleted"
                ]
              },
              "required": false,
              "description": "Ko'rik statusi bo'yicha filter"
            },
            {
              "name": "is_roomed",
              "in": "query",
              "schema": {
                "type": "string",
                "enum": ["true", "false"]
              },
              "required": false,
              "description": "Bemor hozir xonada yoki yo'qligi (true - xonada, false - xonada emas)"
            },
            {
              "name": "room_name",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "required": false,
              "description": "Xona nomi bo'yicha qidirish"
            },
            {
              "name": "treatment_type",
              "in": "query",
              "schema": {
                "type": "string",
                "enum": ["stasionar", "ambulator"]
              },
              "required": false,
              "description": "Davolash turi bo'yicha filter"
            },
            {
              "name": "search",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "required": false,
              "description": "Bemorning ismi yoki telefon raqami bo'yicha qidirish"
            },
            {
              "name": "has_service",
              "in": "query",
              "schema": {
                "type": "string",
                "enum": ["true", "false"]
              },
              "required": false,
              "description": "Service mavjudligi bo'yicha filter (true - bor, false - yo'q)"
            },
            {
              "name": "has_prescription",
              "in": "query",
              "schema": {
                "type": "string",
                "enum": ["true", "false"]
              },
              "required": false,
              "description": "Prescription mavjudligi bo'yicha filter (true - bor, false - yo'q)"
            },
            {
              "name": "has_neurological_status",
              "in": "query",
              "schema": {
                "type": "string",
                "enum": ["true", "false"]
              },
              "required": false,
              "description": "Neurological status mavjudligi bo'yicha filter (true - bor, false - yo'q)"
            },
            {
              "name": "has_daily_checkup",
              "in": "query",
              "schema": {
                "type": "string",
                "enum": ["true", "false"]
              },
              "required": false,
              "description": "Daily checkup mavjudligi bo'yicha filter (true - bor, false - yo'q)"
            },
            {
              "name": "has_billing",
              "in": "query",
              "schema": {
                "type": "string",
                "enum": ["true", "false"]
              },
              "required": false,
              "description": "Billing mavjudligi bo'yicha filter (true - bor, false - yo'q)"
            }
          ],
          "responses": {
            "200": {
              "description": "List of examinations"
            }
          }
        }
      },
      "/examination/get-one/{id}": {
        "get": {
          "tags": ["Examination"],
          "summary": "Get one examination by ID — Allowed roles: ceo, receptionist, doctor",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Examination found"
            },
            "404": {
              "description": "Examination not found"
            }
          }
        }
      },
      "/examination/update/{id}": {
        "patch": {
          "tags": ["Examination"],
          "summary": "Update an examination — Allowed roles: ceo, receptionist, doctor",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "doctor_id": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    },
                    "complaints": {
                      "type": "string"
                    },
                    "diagnosis": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Examination updated successfully"
            },
            "404": {
              "description": "Examination not found"
            }
          }
        }
      },
      "/examination/delete/{id}": {
        "delete": {
          "tags": ["Examination"],
          "summary": "Delete an examination — Allowed roles: ceo , receptionist",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Examination deleted successfully"
            },
            "404": {
              "description": "Examination not found"
            }
          }
        }
      },
      "/examination/complete/{id}": {
        "patch": {
          "tags": ["Examination"],
          "summary": "Complete an examination — Allowed roles: ceo, receptionist",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Examination completed successfully"
            },
            "404": {
              "description": "Examination not found"
            }
          }
        }
      },
      "/examination/create-with-service-and-prescription": {
        "post": {
          "tags": ["Examination"],
          "summary": "Create examination with service and prescription — Ko'rik, xizmat va retseptni birga yaratish - Allowed roles: ceo, receptionist",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "patient_id",
                    "doctor_id",
                    "complaints",
                    "treatment_type"
                  ],
                  "properties": {
                    "patient_id": {
                      "type": "string",
                      "example": "653f1b2c1a2b3c4d5e6f7a8b",
                      "description": "Bemor IDsi"
                    },
                    "doctor_id": {
                      "type": "string",
                      "example": "653f1b2c1a2b3c4d5e6f7a8c",
                      "description": "Doktor IDsi"
                    },
                    "description": {
                      "type": "string",
                      "example": "Patient has a mild fever.",
                      "description": "Qo'shimcha tavsif"
                    },
                    "complaints": {
                      "type": "string",
                      "example": "Headache, fever",
                      "description": "Bemorning shikoyatlari"
                    },
                    "treatment_type": {
                      "type": "string",
                      "enum": ["stasionar", "ambulator"],
                      "example": "STASIONAR",
                      "description": "Davolanish turi"
                    },
                    "service_data": {
                      "type": "object",
                      "description": "Xizmat ma'lumotlari (ixtiyoriy)",
                      "properties": {
                        "duration": {
                          "type": "integer",
                          "example": 7,
                          "description": "Xizmat davomiyligi (kunlarda)"
                        },
                        "items": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "service_type_id": {
                                "type": "string",
                                "example": "653f1b2c1a2b3c4d5e6f7a8d",
                                "description": "Xizmat turi IDsi"
                              },
                              "notes": {
                                "type": "string",
                                "example": "Morning dose",
                                "description": "Eslatma"
                              },
                              "days": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "day": {
                                      "type": "integer",
                                      "example": 1
                                    },
                                    "date": {
                                      "type": "string",
                                      "format": "date",
                                      "example": "2024-01-15"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "prescription_data": {
                      "type": "object",
                      "description": "Retsept ma'lumotlari (ixtiyoriy)",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "medication_id": {
                                "type": "string",
                                "example": "653f1b2c1a2b3c4d5e6f7a8e",
                                "description": "Dori IDsi"
                              },
                              "addons": {
                                "type": "string",
                                "example": "Take with food",
                                "description": "Qo'shimcha ko'rsatmalar"
                              },
                              "frequency": {
                                "type": "integer",
                                "example": 3,
                                "description": "Kunlik chastotasi"
                              },
                              "duration": {
                                "type": "integer",
                                "example": 7,
                                "description": "Davomiyligi (kunlarda)"
                              },
                              "instructions": {
                                "type": "string",
                                "example": "1 tablet 3 times a day",
                                "description": "Qabul qilish ko'rsatmalari"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Ko'rik, xizmat va retsept muvaffaqiyatli yaratildi"
            },
            "400": {
              "description": "Invalid request data"
            },
            "404": {
              "description": "Patient or Doctor not found"
            }
          }
        }
      },
      "/analysis/create": {
        "post": {
          "tags": ["Analysis"],
          "summary": "Create a new analysis type",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "CBC",
                      "description": "Tahlil kodi (takrorlanmasligi kerak)"
                    },
                    "name": {
                      "type": "string",
                      "example": "Complete Blood Count",
                      "description": "Tahlil nomi"
                    },
                    "description": {
                      "type": "string",
                      "example": "Umumiy qon tahlili",
                      "description": "Qo'shimcha ma'lumot"
                    }
                  },
                  "required": ["code", "name"]
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Analysis created successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Analysis created successfully"
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "_id": {
                            "type": "string"
                          },
                          "code": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "created_at": {
                            "type": "string"
                          },
                          "updated_at": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "409": {
              "description": "Analysis code already exists"
            }
          }
        }
      },
      "/analysis/get-all": {
        "get": {
          "tags": ["Analysis"],
          "summary": "Get all analysis types with pagination",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 1
              },
              "description": "Sahifa raqami"
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 10
              },
              "description": "Bir sahifada nechta element"
            },
            {
              "name": "search",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "description": "Kod, nom yoki tavsif bo'yicha qidiruv"
            },
            {
              "name": "code",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "description": "Aniq kod bo'yicha filtrlash"
            }
          ],
          "responses": {
            "200": {
              "description": "List of analyses",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean"
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string"
                            },
                            "code": {
                              "type": "string"
                            },
                            "name": {
                              "type": "string"
                            },
                            "description": {
                              "type": "string"
                            },
                            "created_at": {
                              "type": "string"
                            },
                            "updated_at": {
                              "type": "string"
                            }
                          }
                        }
                      },
                      "pagination": {
                        "type": "object",
                        "properties": {
                          "page": {
                            "type": "integer"
                          },
                          "limit": {
                            "type": "integer"
                          },
                          "total_items": {
                            "type": "integer"
                          },
                          "total_pages": {
                            "type": "integer"
                          },
                          "next_page": {
                            "type": "integer"
                          },
                          "prev_page": {
                            "type": "integer"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/analysis/get-one/{id}": {
        "get": {
          "tags": ["Analysis"],
          "summary": "Get analysis by ID",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Analysis ID"
            }
          ],
          "responses": {
            "200": {
              "description": "Analysis found",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean"
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "_id": {
                            "type": "string"
                          },
                          "code": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "created_at": {
                            "type": "string"
                          },
                          "updated_at": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "404": {
              "description": "Analysis not found"
            }
          }
        }
      },
      "/analysis/update/{id}": {
        "put": {
          "tags": ["Analysis"],
          "summary": "Update analysis",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Analysis ID"
            }
          ],
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "CBC"
                    },
                    "name": {
                      "type": "string",
                      "example": "Complete Blood Count"
                    },
                    "description": {
                      "type": "string",
                      "example": "Umumiy qon tahlili"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Analysis updated successfully"
            },
            "404": {
              "description": "Analysis not found"
            },
            "409": {
              "description": "Code already exists"
            }
          }
        }
      },
      "/analysis/delete/{id}": {
        "delete": {
          "tags": ["Analysis"],
          "summary": "Delete analysis",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Analysis ID"
            }
          ],
          "responses": {
            "200": {
              "description": "Analysis deleted successfully"
            },
            "404": {
              "description": "Analysis not found"
            }
          }
        }
      },
      "/analysis-parameter/create": {
        "post": {
          "tags": ["Analysis Parameter"],
          "summary": "Create a new analysis parameter",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "analysis_id": {
                      "type": "string",
                      "example": "64b8f1a2c3d4e5f6a7b8c9d0",
                      "description": "Tahlil ID"
                    },
                    "parameter_code": {
                      "type": "string",
                      "example": "HGB",
                      "description": "Parametr kodi (optional)"
                    },
                    "parameter_name": {
                      "type": "string",
                      "example": "Hemoglobin",
                      "description": "Parametr nomi"
                    },
                    "unit": {
                      "type": "string",
                      "example": "g/L",
                      "description": "O'lchov birligi"
                    },
                    "normal_range": {
                      "type": "object",
                      "properties": {
                        "male": {
                          "type": "object",
                          "properties": {
                            "min": {
                              "type": "number",
                              "example": 130
                            },
                            "max": {
                              "type": "number",
                              "example": 160
                            },
                            "value": {
                              "type": "string"
                            }
                          }
                        },
                        "female": {
                          "type": "object",
                          "properties": {
                            "min": {
                              "type": "number",
                              "example": 120
                            },
                            "max": {
                              "type": "number",
                              "example": 140
                            },
                            "value": {
                              "type": "string"
                            }
                          }
                        },
                        "general": {
                          "type": "object",
                          "properties": {
                            "min": {
                              "type": "number"
                            },
                            "max": {
                              "type": "number"
                            },
                            "value": {
                              "type": "string",
                              "example": "Negative"
                            }
                          }
                        }
                      },
                      "description": "Gender-specific yoki umumiy norma oralig'i"
                    },
                    "value_type": {
                      "type": "string",
                      "enum": ["NUMBER", "STRING"],
                      "example": "NUMBER",
                      "description": "Natija turi: NUMBER (sonli) yoki STRING (matnli)"
                    },
                    "gender_type": {
                      "type": "string",
                      "enum": ["GENERAL", "MALE_FEMALE"],
                      "example": "MALE_FEMALE",
                      "description": "Jinsga bog'liqlik: GENERAL (umumiy) yoki MALE_FEMALE (erkak/ayol)"
                    },
                    "description": {
                      "type": "string",
                      "example": "Qonda gemoglobin miqdori"
                    }
                  },
                  "required": [
                    "analysis_id",
                    "parameter_name",
                    "unit",
                    "value_type",
                    "gender_type"
                  ]
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Analysis parameter created successfully"
            },
            "404": {
              "description": "Analysis not found"
            },
            "409": {
              "description": "Parameter code already exists"
            }
          }
        }
      },
      "/analysis-parameter/get-all": {
        "get": {
          "tags": ["Analysis Parameter"],
          "summary": "Get all analysis parameters with pagination",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 1
              }
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 10
              }
            },
            {
              "name": "search",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "description": "Nom, kod yoki tavsif bo'yicha qidiruv"
            },
            {
              "name": "analysis_id",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "description": "Aniq tahlil bo'yicha filtrlash"
            }
          ],
          "responses": {
            "200": {
              "description": "List of analysis parameters"
            }
          }
        }
      },
      "/analysis-parameter/by-analysis/{analysis_id}": {
        "get": {
          "tags": ["Analysis Parameter"],
          "summary": "Get all parameters for specific analysis",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "analysis_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Tahlil ID"
            }
          ],
          "responses": {
            "200": {
              "description": "List of parameters for this analysis"
            },
            "404": {
              "description": "Analysis not found"
            }
          }
        }
      },
      "/analysis-parameter/get-one/{id}": {
        "get": {
          "tags": ["Analysis Parameter"],
          "summary": "Get analysis parameter by ID",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Analysis parameter found with analysis info"
            },
            "404": {
              "description": "Analysis parameter not found"
            }
          }
        }
      },
      "/analysis-parameter/update/{id}": {
        "put": {
          "tags": ["Analysis Parameter"],
          "summary": "Update analysis parameter",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "analysis_id": {
                      "type": "string"
                    },
                    "parameter_code": {
                      "type": "string"
                    },
                    "parameter_name": {
                      "type": "string"
                    },
                    "unit": {
                      "type": "string"
                    },
                    "normal_range": {
                      "type": "object",
                      "properties": {
                        "male": {
                          "type": "object",
                          "properties": {
                            "min": {
                              "type": "number"
                            },
                            "max": {
                              "type": "number"
                            },
                            "value": {
                              "type": "string"
                            }
                          }
                        },
                        "female": {
                          "type": "object",
                          "properties": {
                            "min": {
                              "type": "number"
                            },
                            "max": {
                              "type": "number"
                            },
                            "value": {
                              "type": "string"
                            }
                          }
                        },
                        "general": {
                          "type": "object",
                          "properties": {
                            "min": {
                              "type": "number"
                            },
                            "max": {
                              "type": "number"
                            },
                            "value": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    },
                    "description": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Analysis parameter updated"
            },
            "404": {
              "description": "Analysis parameter or Analysis not found"
            },
            "409": {
              "description": "Parameter code already exists"
            }
          }
        }
      },
      "/analysis-parameter/delete/{id}": {
        "delete": {
          "tags": ["Analysis Parameter"],
          "summary": "Delete analysis parameter",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Analysis parameter deleted"
            },
            "404": {
              "description": "Analysis parameter not found"
            }
          }
        }
      },
      "/patient-analysis/create": {
        "post": {
          "tags": ["Patient Analysis"],
          "summary": "Create new patient analyses",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "analysis": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": [
                        "64b8f1a2c3d4e5f6a7b8c9d0",
                        "64b8f1a2c3d4e5f6a7b8c9d1"
                      ],
                      "description": "Array of analysis type IDs - separate patient analysis will be created for each"
                    },
                    "patient": {
                      "type": "string",
                      "example": "64b8f1a2c3d4e5f6a7b8c9d2",
                      "description": "Patient ID"
                    },
                    "level": {
                      "type": "string",
                      "enum": ["SHOSHILINCH", "ODDIY", "JUDA_SHOSHILINCH"],
                      "example": "ODDIY",
                      "description": "Urgency level of the analysis"
                    },
                    "clinical_indications": {
                      "type": "string",
                      "example": "Routine checkup",
                      "description": "Clinical indications for the analysis"
                    },
                    "comment": {
                      "type": "string",
                      "example": "Patient fasting for 12 hours",
                      "description": "Additional comments"
                    }
                  },
                  "required": [
                    "analysis",
                    "patient",
                    "level",
                    "clinical_indications"
                  ]
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Patient analyses created successfully"
            },
            "404": {
              "description": "Patient or analysis type not found"
            }
          }
        }
      },
      "/patient-analysis/get-all": {
        "get": {
          "tags": ["Patient Analysis"],
          "summary": "Get all patient analyses with pagination and filters",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 1
              }
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 10
              }
            },
            {
              "name": "patient",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "description": "Filter by patient ID"
            },
            {
              "name": "status",
              "in": "query",
              "schema": {
                "type": "string",
                "enum": ["PENDING", "COMPLETED", "CANCELLED"]
              },
              "description": "Filter by status"
            },
            {
              "name": "level",
              "in": "query",
              "schema": {
                "type": "string",
                "enum": ["SHOSHILINCH", "ODDIY", "JUDA_SHOSHILINCH"]
              },
              "description": "Filter by urgency level"
            },
            {
              "name": "analysis_type",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "description": "Filter by analysis type ID"
            }
          ],
          "responses": {
            "200": {
              "description": "List of patient analyses"
            }
          }
        }
      },
      "/patient-analysis/by-patient/{patient_id}": {
        "get": {
          "tags": ["Patient Analysis"],
          "summary": "Get all analyses for a specific patient",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "patient_id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Patient ID"
            }
          ],
          "responses": {
            "200": {
              "description": "List of patient analyses"
            },
            "404": {
              "description": "Patient not found"
            }
          }
        }
      },
      "/patient-analysis/get-one/{id}": {
        "get": {
          "tags": ["Patient Analysis"],
          "summary": "Get patient analysis by ID",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Patient analysis ID"
            }
          ],
          "responses": {
            "200": {
              "description": "Patient analysis details"
            },
            "404": {
              "description": "Patient analysis not found"
            }
          }
        }
      },
      "/patient-analysis/update/{id}": {
        "put": {
          "tags": ["Patient Analysis"],
          "summary": "Update patient analysis",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Patient analysis ID"
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "results": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "analysis_parameter_type": {
                            "type": "string",
                            "example": "64b8f1a2c3d4e5f6a7b8c9d0"
                          },
                          "analysis_parameter_value": {
                            "oneOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "number"
                              }
                            ],
                            "example": 145
                          }
                        },
                        "required": [
                          "analysis_parameter_type",
                          "analysis_parameter_value"
                        ]
                      },
                      "description": "Analysis results"
                    },
                    "status": {
                      "type": "string",
                      "enum": ["PENDING", "COMPLETED", "CANCELLED"],
                      "example": "COMPLETED"
                    },
                    "level": {
                      "type": "string",
                      "enum": ["SHOSHILINCH", "ODDIY", "JUDA_SHOSHILINCH"],
                      "example": "ODDIY"
                    },
                    "clinical_indications": {
                      "type": "string",
                      "example": "Updated clinical indications"
                    },
                    "comment": {
                      "type": "string",
                      "example": "Updated comment"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Patient analysis updated successfully"
            },
            "400": {
              "description": "Invalid parameter value type"
            },
            "404": {
              "description": "Patient analysis not found"
            }
          }
        }
      },
      "/patient-analysis/delete/{id}": {
        "delete": {
          "tags": ["Patient Analysis"],
          "summary": "Delete patient analysis",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Patient analysis ID"
            }
          ],
          "responses": {
            "200": {
              "description": "Patient analysis deleted successfully"
            },
            "404": {
              "description": "Patient analysis not found"
            }
          }
        }
      },
      "/billing/create": {
        "post": {
          "tags": ["Billing"],
          "summary": "Create a new billing — Allowed roles: ceo, receptionist",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": ["examination_id", "services", "payment"],
                  "properties": {
                    "examination_id": {
                      "type": "string",
                      "example": "653f1b2c1a2b3c4d5e6f7a8b"
                    },
                    "services": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "required": ["name", "count", "price", "service_type"],
                        "properties": {
                          "name": {
                            "type": "string",
                            "example": "Consultation"
                          },
                          "count": {
                            "type": "integer",
                            "example": 1
                          },
                          "price": {
                            "type": "integer",
                            "example": 50000
                          },
                          "service_type": {
                            "type": "string",
                            "enum": [
                              "KORIK",
                              "XIZMAT",
                              "XONA",
                              "TASVIR",
                              "TAHLIL"
                            ],
                            "example": "KORIK"
                          }
                        }
                      }
                    },
                    "payment": {
                      "type": "object",
                      "required": ["payment_method", "amount", "payment_type"],
                      "properties": {
                        "payment_method": {
                          "type": "string",
                          "enum": [
                            "cash",
                            "card",
                            "online",
                            "bank_transfer",
                            "crypto"
                          ],
                          "example": "cash"
                        },
                        "amount": {
                          "type": "integer",
                          "example": 50000
                        },
                        "payment_type": {
                          "type": "string",
                          "enum": [
                            "KORIK",
                            "XIZMAT",
                            "XONA",
                            "TASVIR",
                            "TAHLIL"
                          ],
                          "example": "KORIK"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Billing created successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Billing created successfully"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/billing/get-all": {
        "get": {
          "tags": ["Billing"],
          "summary": "Get all billings — Allowed roles: ceo, receptionist, doctor, nurse",
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "example": 1
              }
            },
            {
              "name": "limit",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "example": 10
              }
            },
            {
              "name": "status",
              "in": "query",
              "required": false,
              "schema": {
                "type": "string",
                "enum": [
                  "active",
                  "inactive",
                  "pending",
                  "completed",
                  "deleted"
                ]
              }
            },
            {
              "name": "patient_id",
              "in": "query",
              "required": false,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "List of billings",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object"
                        }
                      },
                      "pagination": {
                        "type": "object"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/billing/get-one/{id}": {
        "get": {
          "tags": ["Billing"],
          "summary": "Get one billing by ID — Allowed roles: ceo, receptionist, doctor, nurse",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Billing details",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/billing/update/{id}": {
        "patch": {
          "tags": ["Billing"],
          "summary": "Update billing services — Allowed roles: ceo, receptionist",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "services": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string",
                            "example": "Consultation"
                          },
                          "count": {
                            "type": "integer",
                            "example": 1
                          },
                          "price": {
                            "type": "integer",
                            "example": 50000
                          },
                          "service_type": {
                            "type": "string",
                            "enum": [
                              "KORIK",
                              "XIZMAT",
                              "XONA",
                              "TASVIR",
                              "TAHLIL"
                            ],
                            "example": "KORIK"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Billing updated successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Billing updated successfully"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/billing/payment/{id}": {
        "patch": {
          "tags": ["Billing"],
          "summary": "Add payment to billing — Allowed roles: ceo, receptionist",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": ["payment"],
                  "properties": {
                    "payment": {
                      "type": "object",
                      "required": ["payment_method", "amount", "payment_type"],
                      "properties": {
                        "payment_method": {
                          "type": "string",
                          "enum": [
                            "cash",
                            "card",
                            "online",
                            "bank_transfer",
                            "crypto"
                          ],
                          "example": "cash"
                        },
                        "amount": {
                          "type": "integer",
                          "example": 50000
                        },
                        "payment_type": {
                          "type": "string",
                          "enum": [
                            "KORIK",
                            "XIZMAT",
                            "XONA",
                            "TASVIR",
                            "TAHLIL"
                          ],
                          "example": "KORIK"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Payment added successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Payment added successfully"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/billing/delete/{id}": {
        "delete": {
          "tags": ["Billing"],
          "summary": "Delete billing — Allowed roles: ceo",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Billing deleted successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Billing deleted successfully"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/report/billing": {
        "get": {
          "tags": ["Report"],
          "summary": "Get billing report — Allowed roles: ceo, receptionist",
          "description": "Hisobotlarni interval (daily, weekly, monthly, yearly) bo'yicha olish. Natijada umumiy, to'langan va qarzdorlik summalari qaytariladi.",
          "parameters": [
            {
              "name": "interval",
              "in": "query",
              "required": false,
              "schema": {
                "type": "string",
                "enum": ["daily", "weekly", "monthly", "quarterly", "yearly"],
                "example": "daily"
              },
              "description": "Hisobot intervali (daily, weekly, monthly, yearly)"
            },
            {
              "name": "page",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "example": 1,
                "minimum": 1
              },
              "description": "Sahifa raqami (pagination)"
            },
            {
              "name": "limit",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "example": 10,
                "minimum": 1,
                "maximum": 100
              },
              "description": "Sahifadagi elementlar soni (pagination)"
            }
          ],
          "responses": {
            "200": {
              "description": "Hisobot muvaffaqiyatli qaytarildi",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Billing report generated successfully"
                      },
                      "page": {
                        "type": "integer",
                        "example": 1
                      },
                      "limit": {
                        "type": "integer",
                        "example": 10
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "object",
                              "properties": {
                                "year": {
                                  "type": "integer",
                                  "example": 2025
                                },
                                "month": {
                                  "type": "integer",
                                  "example": 11
                                },
                                "week": {
                                  "type": "integer",
                                  "example": 45
                                },
                                "day": {
                                  "type": "integer",
                                  "example": 6
                                }
                              }
                            },
                            "totalAmount": {
                              "type": "number",
                              "example": 500000
                            },
                            "paidAmount": {
                              "type": "number",
                              "example": 400000
                            },
                            "debtAmount": {
                              "type": "number",
                              "example": 100000
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Xato so'rov yoki interval noto'g'ri",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": false
                      },
                      "message": {
                        "type": "string",
                        "example": "Invalid interval"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/report/user": {
        "get": {
          "tags": ["Report"],
          "summary": "Get user billing report — Allowed roles: ceo",
          "description": "Foydalanuvchi o'z billing hisobotini interval (daily, weekly, monthly, yearly) bo'yicha oladi.",
          "parameters": [],
          "responses": {
            "200": {
              "description": "Foydalanuvchi hisobotlari muvaffaqiyatli qaytarildi",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "User billing report generated successfully"
                      },
                      "data": {
                        "type": "object",
                        "properties": {}
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Xato so'rov yoki interval noto'g'ri",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": false
                      },
                      "message": {
                        "type": "string",
                        "example": "Invalid interval"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/report/patient": {
        "get": {
          "tags": ["Report"],
          "summary": "Get patient report — Allowed roles: ceo, receptionist",
          "description": "Bemorlar hisobotini interval (daily, weekly, monthly, yearly) bo'yicha olish. Jami bemorlar, faol va nofaol bemorlar soni.",
          "parameters": [
            {
              "name": "interval",
              "in": "query",
              "required": false,
              "schema": {
                "type": "string",
                "enum": ["daily", "weekly", "monthly", "quarterly", "yearly"],
                "example": "daily"
              },
              "description": "Hisobot intervali (daily, weekly, monthly, yearly)"
            },
            {
              "name": "page",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "example": 1,
                "minimum": 1
              },
              "description": "Sahifa raqami (pagination)"
            },
            {
              "name": "limit",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "example": 10,
                "minimum": 1,
                "maximum": 100
              },
              "description": "Sahifadagi elementlar soni (pagination)"
            }
          ],
          "responses": {
            "200": {
              "description": "Bemorlar hisoboti muvaffaqiyatli qaytarildi",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Patient report generated successfully"
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "object",
                              "properties": {
                                "year": {
                                  "type": "integer",
                                  "example": 2025
                                },
                                "month": {
                                  "type": "integer",
                                  "example": 11
                                },
                                "week": {
                                  "type": "integer",
                                  "example": 45
                                },
                                "day": {
                                  "type": "integer",
                                  "example": 6
                                }
                              }
                            },
                            "totalPatients": {
                              "type": "number",
                              "example": 120
                            },
                            "activePatients": {
                              "type": "number",
                              "example": 85
                            },
                            "inactivePatients": {
                              "type": "number",
                              "example": 35
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Xato so'rov",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": false
                      },
                      "message": {
                        "type": "string",
                        "example": "Invalid interval"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/report/examination": {
        "get": {
          "tags": ["Report"],
          "summary": "Get examination report — Allowed roles: ceo, receptionist",
          "description": "Tekshiruvlar hisobotini interval (daily, weekly, monthly, yearly) bo'yicha olish. Jami tekshiruvlar soni va umumiy summa.",
          "parameters": [
            {
              "name": "interval",
              "in": "query",
              "required": false,
              "schema": {
                "type": "string",
                "enum": ["daily", "weekly", "monthly", "quarterly", "yearly"],
                "example": "daily"
              },
              "description": "Hisobot intervali (daily, weekly, monthly, yearly)"
            },
            {
              "name": "page",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "example": 1,
                "minimum": 1
              },
              "description": "Sahifa raqami (pagination)"
            },
            {
              "name": "limit",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "example": 10,
                "minimum": 1,
                "maximum": 100
              },
              "description": "Sahifadagi elementlar soni (pagination)"
            }
          ],
          "responses": {
            "200": {
              "description": "Tekshiruvlar hisoboti muvaffaqiyatli qaytarildi",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Examination report generated successfully"
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "object",
                              "properties": {
                                "year": {
                                  "type": "integer",
                                  "example": 2025
                                },
                                "month": {
                                  "type": "integer",
                                  "example": 11
                                },
                                "week": {
                                  "type": "integer",
                                  "example": 45
                                },
                                "day": {
                                  "type": "integer",
                                  "example": 6
                                }
                              }
                            },
                            "totalExaminations": {
                              "type": "number",
                              "example": 75
                            },
                            "totalAmount": {
                              "type": "number",
                              "example": 3750000
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Xato so'rov",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": false
                      },
                      "message": {
                        "type": "string",
                        "example": "Invalid interval"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/report/analysis": {
        "get": {
          "tags": ["Report"],
          "summary": "Get analysis report — Allowed roles: ceo, receptionist",
          "description": "Analizlar hisobotini interval (daily, weekly, monthly, yearly) bo'yicha olish. Jami analizlar soni va umumiy summa.",
          "parameters": [
            {
              "name": "interval",
              "in": "query",
              "required": false,
              "schema": {
                "type": "string",
                "enum": ["daily", "weekly", "monthly", "quarterly", "yearly"],
                "example": "daily"
              },
              "description": "Hisobot intervali (daily, weekly, monthly, yearly)"
            },
            {
              "name": "page",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "example": 1,
                "minimum": 1
              },
              "description": "Sahifa raqami (pagination)"
            },
            {
              "name": "limit",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "example": 10,
                "minimum": 1,
                "maximum": 100
              },
              "description": "Sahifadagi elementlar soni (pagination)"
            }
          ],
          "responses": {
            "200": {
              "description": "Analizlar hisoboti muvaffaqiyatli qaytarildi",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Analysis report generated successfully"
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "object",
                              "properties": {
                                "year": {
                                  "type": "integer",
                                  "example": 2025
                                },
                                "month": {
                                  "type": "integer",
                                  "example": 11
                                },
                                "week": {
                                  "type": "integer",
                                  "example": 45
                                },
                                "day": {
                                  "type": "integer",
                                  "example": 6
                                }
                              }
                            },
                            "totalAnalyses": {
                              "type": "number",
                              "example": 150
                            },
                            "totalAmount": {
                              "type": "number",
                              "example": 2250000
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Xato so'rov",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": false
                      },
                      "message": {
                        "type": "string",
                        "example": "Invalid interval"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/report/diagnosis": {
        "get": {
          "tags": ["Report"],
          "summary": "Get diagnosis report — Allowed roles: ceo, doctor",
          "description": "Diagnosis bo'yicha examination statistikasi. Har bir diagnosis uchun examination soni va foiz ko'rsatkichi.",
          "parameters": [],
          "responses": {
            "200": {
              "description": "Diagnosis hisoboti muvaffaqiyatli qaytarildi",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Diagnosis report generated successfully"
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "totalExaminations": {
                            "type": "number",
                            "example": 250
                          },
                          "diagnosisStats": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "diagnosis_id": {
                                  "type": "string",
                                  "example": "507f1f77bcf86cd799439011",
                                  "nullable": true
                                },
                                "diagnosis_name": {
                                  "type": "string",
                                  "example": "Hypertension"
                                },
                                "diagnosis_code": {
                                  "type": "string",
                                  "example": "I10"
                                },
                                "diagnosis_description": {
                                  "type": "string",
                                  "example": "Essential (primary) hypertension"
                                },
                                "count": {
                                  "type": "number",
                                  "example": 45
                                },
                                "percentage": {
                                  "type": "number",
                                  "example": 18
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Xato so'rov",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": false
                      },
                      "message": {
                        "type": "string",
                        "example": "Error generating diagnosis report"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/report/doctor": {
        "get": {
          "tags": ["Report"],
          "summary": "Get doctor examination report — Allowed roles: ceo",
          "description": "Shifokorlar bo'yicha ko'rik statistikasi. Har bir shifokor nechta ko'rik ko'rganligini interval (daily, weekly, monthly, yearly) bo'yicha ko'rsatadi.",
          "parameters": [
            {
              "name": "interval",
              "in": "query",
              "required": false,
              "schema": {
                "type": "string",
                "enum": ["daily", "weekly", "monthly", "quarterly", "yearly"],
                "example": "daily"
              },
              "description": "Hisobot intervali (daily, weekly, monthly, yearly)"
            },
            {
              "name": "page",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "example": 1,
                "minimum": 1
              },
              "description": "Sahifa raqami (pagination)"
            },
            {
              "name": "limit",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "example": 10,
                "minimum": 1,
                "maximum": 100
              },
              "description": "Sahifadagi elementlar soni (pagination)"
            }
          ],
          "responses": {
            "200": {
              "description": "Shifokorlar hisoboti muvaffaqiyatli qaytarildi",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Doctor report generated successfully"
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "object",
                              "properties": {
                                "doctor_id": {
                                  "type": "string",
                                  "example": "507f1f77bcf86cd799439011"
                                },
                                "year": {
                                  "type": "integer",
                                  "example": 2025
                                },
                                "month": {
                                  "type": "integer",
                                  "example": 11
                                },
                                "week": {
                                  "type": "integer",
                                  "example": 45
                                },
                                "day": {
                                  "type": "integer",
                                  "example": 6
                                }
                              }
                            },
                            "doctor_id": {
                              "type": "string",
                              "example": "507f1f77bcf86cd799439011"
                            },
                            "doctor_name": {
                              "type": "string",
                              "example": "Dr. John Smith"
                            },
                            "doctor_phone": {
                              "type": "string",
                              "example": "+998901234567"
                            },
                            "totalExaminations": {
                              "type": "number",
                              "example": 35
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Xato so'rov",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": false
                      },
                      "message": {
                        "type": "string",
                        "example": "Error generating doctor report"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/report/room": {
        "get": {
          "tags": ["Report"],
          "summary": "Get room report — Allowed roles: ceo, receptionist",
          "description": "Xonalar va yotoqlar bandligi hisoboti. Jami xonalar, yotoqlar, band va bo'sh yotoqlar statistikasi.",
          "parameters": [],
          "responses": {
            "200": {
              "description": "Xonalar hisoboti muvaffaqiyatli qaytarildi",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Room report generated successfully"
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "summary": {
                            "type": "object",
                            "properties": {
                              "totalRooms": {
                                "type": "number",
                                "example": 10
                              },
                              "totalBeds": {
                                "type": "number",
                                "example": 40
                              },
                              "occupiedBeds": {
                                "type": "number",
                                "example": 28
                              },
                              "availableBeds": {
                                "type": "number",
                                "example": 12
                              },
                              "occupancyRate": {
                                "type": "number",
                                "example": 70
                              }
                            }
                          },
                          "rooms": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "_id": {
                                  "type": "string",
                                  "example": "507f1f77bcf86cd799439011"
                                },
                                "room_name": {
                                  "type": "string",
                                  "example": "Room 101"
                                },
                                "room_price": {
                                  "type": "number",
                                  "example": 150000
                                },
                                "patient_capacity": {
                                  "type": "number",
                                  "example": 4
                                },
                                "patient_occupied": {
                                  "type": "number",
                                  "example": 3
                                },
                                "available_beds": {
                                  "type": "number",
                                  "example": 1
                                },
                                "occupancy_rate": {
                                  "type": "number",
                                  "example": 75
                                },
                                "status": {
                                  "type": "string",
                                  "example": "active"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Xato so'rov",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": false
                      },
                      "message": {
                        "type": "string",
                        "example": "Error generating room report"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/diagnosis/create": {
        "post": {
          "tags": ["Diagnosis"],
          "summary": "Create a new diagnosis (ceo, admin, doctor)",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "D001",
                      "description": "Diagnosis code (unique)"
                    },
                    "name": {
                      "type": "string",
                      "example": "Diabetes Mellitus",
                      "description": "Diagnosis name"
                    },
                    "description": {
                      "type": "string",
                      "example": "Chronic high blood sugar",
                      "description": "Additional info"
                    },
                    "symptoms": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": ["Thirst", "Fatigue"],
                      "description": "Symptoms list"
                    },
                    "causes": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": ["Genetics", "Obesity"],
                      "description": "Causes list"
                    },
                    "treatments": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": ["Insulin", "Diet"],
                      "description": "Treatments list"
                    },
                    "is_chronic": {
                      "type": "boolean",
                      "example": true,
                      "description": "Is chronic?"
                    },
                    "is_contagious": {
                      "type": "boolean",
                      "example": false,
                      "description": "Is contagious?"
                    }
                  },
                  "required": ["code", "name", "description"]
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Diagnosis created successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Diagnosis created successfully"
                      }
                    }
                  }
                }
              }
            },
            "409": {
              "description": "Diagnosis code already exists"
            }
          }
        }
      },
      "/diagnosis/get-all": {
        "get": {
          "tags": ["Diagnosis"],
          "summary": "Get all diagnoses with pagination (ceo, admin, doctor, nurse, receptionist)",
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 1
              },
              "description": "Page number"
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 10
              },
              "description": "Items per page"
            },
            {
              "name": "search",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "description": "Search by code, name, or description"
            }
          ],
          "responses": {
            "200": {
              "description": "List of diagnoses",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean"
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string"
                            },
                            "code": {
                              "type": "string"
                            },
                            "name": {
                              "type": "string"
                            },
                            "description": {
                              "type": "string"
                            },
                            "symptoms": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "causes": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "treatments": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "is_chronic": {
                              "type": "boolean"
                            },
                            "is_contagious": {
                              "type": "boolean"
                            },
                            "created_at": {
                              "type": "string"
                            },
                            "updated_at": {
                              "type": "string"
                            }
                          }
                        }
                      },
                      "pagination": {
                        "type": "object",
                        "properties": {
                          "page": {
                            "type": "integer"
                          },
                          "limit": {
                            "type": "integer"
                          },
                          "total_items": {
                            "type": "integer"
                          },
                          "total_pages": {
                            "type": "integer"
                          },
                          "next_page": {
                            "type": "integer"
                          },
                          "prev_page": {
                            "type": "integer"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/diagnosis/get-one/{id}": {
        "get": {
          "tags": ["Diagnosis"],
          "summary": "Get diagnosis by ID (ceo, admin, doctor, nurse, receptionist)",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Diagnosis ID"
            }
          ],
          "responses": {
            "200": {
              "description": "Diagnosis found",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean"
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "_id": {
                            "type": "string"
                          },
                          "code": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "symptoms": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "causes": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "treatments": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "is_chronic": {
                            "type": "boolean"
                          },
                          "is_contagious": {
                            "type": "boolean"
                          },
                          "created_at": {
                            "type": "string"
                          },
                          "updated_at": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "404": {
              "description": "Diagnosis not found"
            }
          }
        }
      },
      "/diagnosis/update/{id}": {
        "put": {
          "tags": ["Diagnosis"],
          "summary": "Update diagnosis (ceo, admin, doctor)",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Diagnosis ID"
            }
          ],
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "D001"
                    },
                    "name": {
                      "type": "string",
                      "example": "Diabetes Mellitus"
                    },
                    "description": {
                      "type": "string",
                      "example": "Chronic high blood sugar"
                    },
                    "symptoms": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": ["Thirst", "Fatigue"]
                    },
                    "causes": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": ["Genetics", "Obesity"]
                    },
                    "treatments": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": ["Insulin", "Diet"]
                    },
                    "is_chronic": {
                      "type": "boolean",
                      "example": true
                    },
                    "is_contagious": {
                      "type": "boolean",
                      "example": false
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Diagnosis updated successfully"
            },
            "404": {
              "description": "Diagnosis not found"
            },
            "409": {
              "description": "Diagnosis code already exists"
            }
          }
        }
      },
      "/diagnosis/delete/{id}": {
        "delete": {
          "tags": ["Diagnosis"],
          "summary": "Delete diagnosis (ceo, admin, doctor)",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Diagnosis ID"
            }
          ],
          "responses": {
            "200": {
              "description": "Diagnosis deleted successfully"
            },
            "404": {
              "description": "Diagnosis not found"
            }
          }
        }
      },
      "/imaging-type/create": {
        "post": {
          "tags": ["ImagingType"],
          "summary": "Create a new imaging type (ceo, receptionist)",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string",
                      "example": "X-ray",
                      "description": "Imaging type name"
                    },
                    "description": {
                      "type": "string",
                      "example": "Radiographic imaging",
                      "description": "Additional info"
                    }
                  },
                  "required": ["code", "name"]
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Imaging type created successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Imaging type created successfully"
                      }
                    }
                  }
                }
              }
            },
            "409": {
              "description": "Imaging type code already exists"
            }
          }
        }
      },
      "/imaging-type/get-all": {
        "get": {
          "tags": ["ImagingType"],
          "summary": "Get all imaging types with pagination (ceo, receptionist, doctor, nurse)",
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 1
              },
              "description": "Page number"
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 10
              },
              "description": "Items per page"
            },
            {
              "name": "search",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "description": "Search by code, name, or description"
            }
          ],
          "responses": {
            "200": {
              "description": "List of imaging types",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean"
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string"
                            },
                            "name": {
                              "type": "string"
                            },
                            "description": {
                              "type": "string"
                            },
                            "created_at": {
                              "type": "string"
                            },
                            "updated_at": {
                              "type": "string"
                            }
                          }
                        }
                      },
                      "pagination": {
                        "type": "object",
                        "properties": {
                          "page": {
                            "type": "integer"
                          },
                          "limit": {
                            "type": "integer"
                          },
                          "total_items": {
                            "type": "integer"
                          },
                          "total_pages": {
                            "type": "integer"
                          },
                          "next_page": {
                            "type": "integer"
                          },
                          "prev_page": {
                            "type": "integer"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/imaging-type/get-one/{id}": {
        "get": {
          "tags": ["ImagingType"],
          "summary": "Get imaging type by ID (ceo, receptionist, doctor, nurse)",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Imaging type ID"
            }
          ],
          "responses": {
            "200": {
              "description": "Imaging type found",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean"
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "_id": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "created_at": {
                            "type": "string"
                          },
                          "updated_at": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "404": {
              "description": "Imaging type not found"
            }
          }
        }
      },
      "/imaging-type/update/{id}": {
        "put": {
          "tags": ["ImagingType"],
          "summary": "Update imaging type (ceo, receptionist)",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Imaging type ID"
            }
          ],
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string",
                      "example": "X-ray"
                    },
                    "description": {
                      "type": "string",
                      "example": "Radiographic imaging"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Imaging type updated successfully"
            },
            "404": {
              "description": "Imaging type not found"
            },
            "409": {
              "description": "Imaging type code already exists"
            }
          }
        }
      },
      "/imaging-type/delete/{id}": {
        "delete": {
          "tags": ["ImagingType"],
          "summary": "Delete imaging type (ceo, receptionist)",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Imaging type ID"
            }
          ],
          "responses": {
            "200": {
              "description": "Imaging type deleted successfully"
            },
            "404": {
              "description": "Imaging type not found"
            }
          }
        }
      },
      "/medical-image/create": {
        "post": {
          "tags": ["MedicalImage"],
          "summary": "Create a new medical image (ceo, receptionist, doctor, admin)",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "examination_id": {
                      "type": "string",
                      "example": "64a1f2c3e4b5a6d7f8c9b0b2"
                    },
                    "imaging_type_id": {
                      "type": "string",
                      "example": "64a1f2c3e4b5a6d7f8c9b0c3"
                    },
                    "image_paths": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": ["/uploads/abcd.jpg", "/uploads/efgh.jpg"],
                      "description": "Array of uploaded file paths (must exist in Upload collection)"
                    },
                    "description": {
                      "type": "string",
                      "example": "Fracture imaging",
                      "description": "Optional description"
                    },
                    "body_part": {
                      "type": "string",
                      "example": "Left arm",
                      "description": "Body part imaged"
                    }
                  },
                  "required": [
                    "patient_id",
                    "examination_id",
                    "imaging_type_id",
                    "image_paths"
                  ]
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Medical image created successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Medical image created successfully"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Bad request (missing or invalid related resources or image paths)"
            }
          }
        }
      },
      "/medical-image/get-all": {
        "get": {
          "tags": ["MedicalImage"],
          "summary": "Get all medical images with pagination (ceo, receptionist, doctor, admin, nurse)",
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 1
              },
              "description": "Page number"
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 10
              },
              "description": "Items per page"
            },
            {
              "name": "patient_id",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "description": "Filter by patient id"
            }
          ],
          "responses": {
            "200": {
              "description": "List of medical images",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean"
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string"
                            },
                            "patient_id": {
                              "type": "string"
                            },
                            "examination_id": {
                              "type": "string"
                            },
                            "imaging_type_id": {
                              "type": "string"
                            },
                            "image_paths": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "description": {
                              "type": "string"
                            },
                            "body_part": {
                              "type": "string"
                            },
                            "created_at": {
                              "type": "string"
                            },
                            "updated_at": {
                              "type": "string"
                            }
                          }
                        }
                      },
                      "pagination": {
                        "type": "object",
                        "properties": {
                          "total": {
                            "type": "integer"
                          },
                          "page": {
                            "type": "integer"
                          },
                          "limit": {
                            "type": "integer"
                          },
                          "pages": {
                            "type": "integer"
                          },
                          "next": {
                            "type": "integer",
                            "nullable": true
                          },
                          "prev": {
                            "type": "integer",
                            "nullable": true
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/medical-image/get-one/{id}": {
        "get": {
          "tags": ["MedicalImage"],
          "summary": "Get medical image by ID (ceo, receptionist, doctor, admin, nurse)",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Medical image ID"
            }
          ],
          "responses": {
            "200": {
              "description": "Medical image found",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean"
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "_id": {
                            "type": "string"
                          },
                          "patient_id": {
                            "type": "string"
                          },
                          "examination_id": {
                            "type": "string"
                          },
                          "imaging_type_id": {
                            "type": "string"
                          },
                          "image_paths": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "description": {
                            "type": "string"
                          },
                          "body_part": {
                            "type": "string"
                          },
                          "created_at": {
                            "type": "string"
                          },
                          "updated_at": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "404": {
              "description": "Medical image not found"
            }
          }
        }
      },
      "/medical-image/update/{id}": {
        "put": {
          "tags": ["MedicalImage"],
          "summary": "Update medical image (ceo, receptionist, doctor, admin)",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Medical image ID"
            }
          ],
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "imaging_type_id": {
                      "type": "string",
                      "example": "64a1f2c3e4b5a6d7f8c9b0c3"
                    },
                    "image_paths": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": ["/uploads/abcd.jpg"]
                    },
                    "description": {
                      "type": "string",
                      "example": "Updated description"
                    },
                    "body_part": {
                      "type": "string",
                      "example": "Right leg"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Medical image updated successfully"
            },
            "400": {
              "description": "Bad request (invalid imaging type or image paths)"
            },
            "404": {
              "description": "Medical image not found"
            }
          }
        }
      },
      "/medical-image/delete/{id}": {
        "delete": {
          "tags": ["MedicalImage"],
          "summary": "Delete medical image (ceo, receptionist, doctor, admin)",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Medical image ID"
            }
          ],
          "responses": {
            "200": {
              "description": "Medical image deleted successfully"
            },
            "404": {
              "description": "Medical image not found"
            }
          }
        }
      },
      "/medication/create": {
        "post": {
          "tags": ["Medication"],
          "summary": "Create a new medication",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string",
                      "example": "Paracetamol"
                    },
                    "form": {
                      "type": "string",
                      "enum": ["solid", "liquid", "injection", "topical"],
                      "example": "solid",
                      "description": "One of: solid, liquid, injection, topical"
                    },
                    "dosage": {
                      "type": "string",
                      "example": "500 mg"
                    },
                    "is_active": {
                      "type": "boolean",
                      "example": true
                    }
                  },
                  "required": ["name", "form"]
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Medication created successfully"
            }
          }
        }
      },
      "/medication/get-all": {
        "get": {
          "tags": ["Medication"],
          "summary": "Get all medications with pagination",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer"
              }
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer"
              }
            },
            {
              "name": "search",
              "in": "query",
              "schema": {
                "type": "string"
              }
            },
            {
              "name": "form",
              "in": "query",
              "schema": {
                "type": "string",
                "enum": ["solid", "liquid", "injection", "topical"],
                "example": "solid"
              },
              "description": "One of: solid, liquid, injection, topical"
            },
            {
              "name": "is_active",
              "in": "query",
              "schema": {
                "type": "boolean"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "List of medications"
            }
          }
        }
      },
      "/medication/get-one/{id}": {
        "get": {
          "tags": ["Medication"],
          "summary": "Get medication by ID",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Medication found"
            },
            "404": {
              "description": "Medication not found"
            }
          }
        }
      },
      "/medication/update/{id}": {
        "put": {
          "tags": ["Medication"],
          "summary": "Update medication",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "form": {
                      "type": "string",
                      "enum": ["solid", "liquid", "injection", "topical"],
                      "description": "One of: solid, liquid, injection, topical"
                    },
                    "dosage": {
                      "type": "string"
                    },
                    "is_active": {
                      "type": "boolean"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Medication updated successfully"
            },
            "404": {
              "description": "Medication not found"
            }
          }
        }
      },
      "/medication/delete/{id}": {
        "delete": {
          "tags": ["Medication"],
          "summary": "Delete medication",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Medication deleted successfully"
            },
            "404": {
              "description": "Medication not found"
            }
          }
        }
      },
      "/service-type/create": {
        "post": {
          "tags": ["ServiceType"],
          "summary": "Create a new service type",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "CONSULT",
                      "description": "Service code (unique)"
                    },
                    "name": {
                      "type": "string",
                      "example": "Consultation",
                      "description": "Service name"
                    },
                    "description": {
                      "type": "string",
                      "example": "General doctor consultation",
                      "description": "Optional description"
                    },
                    "price": {
                      "type": "integer",
                      "example": 50000,
                      "description": "Service price (UZS)"
                    },
                    "duration_minutes": {
                      "type": "integer",
                      "example": 30,
                      "description": "Estimated duration in minutes"
                    },
                    "is_active": {
                      "type": "boolean",
                      "example": true,
                      "description": "Is service active"
                    },
                    "requirements": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": ["Passport", "Referral"],
                      "description": "List of required items"
                    }
                  },
                  "required": ["code", "name", "price", "duration_minutes"]
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Service type created successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Service type created successfully"
                      }
                    }
                  }
                }
              }
            },
            "409": {
              "description": "Service type code already exists"
            }
          }
        }
      },
      "/service-type/get-all": {
        "get": {
          "tags": ["ServiceType"],
          "summary": "Get all service types with pagination",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 1
              },
              "description": "Page number"
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "example": 10
              },
              "description": "Items per page"
            },
            {
              "name": "search",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "description": "Search by code/name/description"
            },
            {
              "name": "code",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "description": "Filter by exact code"
            },
            {
              "name": "is_active",
              "in": "query",
              "schema": {
                "type": "boolean"
              },
              "description": "Filter by active status"
            },
            {
              "name": "min_price",
              "in": "query",
              "schema": {
                "type": "integer"
              },
              "description": "Minimum price"
            },
            {
              "name": "max_price",
              "in": "query",
              "schema": {
                "type": "integer"
              },
              "description": "Maximum price"
            }
          ],
          "responses": {
            "200": {
              "description": "List of service types",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean"
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string"
                            },
                            "code": {
                              "type": "string"
                            },
                            "name": {
                              "type": "string"
                            },
                            "description": {
                              "type": "string"
                            },
                            "price": {
                              "type": "integer"
                            },
                            "duration_minutes": {
                              "type": "integer"
                            },
                            "is_active": {
                              "type": "boolean"
                            },
                            "requirements": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "created_at": {
                              "type": "string"
                            },
                            "updated_at": {
                              "type": "string"
                            }
                          }
                        }
                      },
                      "pagination": {
                        "type": "object",
                        "properties": {
                          "page": {
                            "type": "integer"
                          },
                          "limit": {
                            "type": "integer"
                          },
                          "total_items": {
                            "type": "integer"
                          },
                          "total_pages": {
                            "type": "integer"
                          },
                          "next_page": {
                            "type": "integer"
                          },
                          "prev_page": {
                            "type": "integer"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/service-type/get-one/{id}": {
        "get": {
          "tags": ["ServiceType"],
          "summary": "Get service type by ID",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Service type ID"
            }
          ],
          "responses": {
            "200": {
              "description": "Service type found",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean"
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "_id": {
                            "type": "string"
                          },
                          "code": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "price": {
                            "type": "integer"
                          },
                          "duration_minutes": {
                            "type": "integer"
                          },
                          "is_active": {
                            "type": "boolean"
                          },
                          "requirements": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "created_at": {
                            "type": "string"
                          },
                          "updated_at": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "404": {
              "description": "Service type not found"
            }
          }
        }
      },
      "/service-type/update/{id}": {
        "put": {
          "tags": ["ServiceType"],
          "summary": "Update service type",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Service type ID"
            }
          ],
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "CONSULT"
                    },
                    "name": {
                      "type": "string",
                      "example": "Consultation"
                    },
                    "description": {
                      "type": "string",
                      "example": "General doctor consultation"
                    },
                    "price": {
                      "type": "integer",
                      "example": 60000
                    },
                    "duration_minutes": {
                      "type": "integer",
                      "example": 45
                    },
                    "is_active": {
                      "type": "boolean",
                      "example": true
                    },
                    "requirements": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": ["Referral"]
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Service type updated successfully"
            },
            "404": {
              "description": "Service type not found"
            },
            "409": {
              "description": "Code already exists"
            }
          }
        }
      },
      "/service-type/delete/{id}": {
        "delete": {
          "tags": ["ServiceType"],
          "summary": "Delete service type",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Service type ID"
            }
          ],
          "responses": {
            "200": {
              "description": "Service type deleted successfully"
            },
            "404": {
              "description": "Service type not found"
            }
          }
        }
      },
      "/neurological-status/create": {
        "post": {
          "tags": ["Neurological Status"],
          "summary": "Create a new neurological status — Allowed roles: ceo, doctor",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "examination_id",
                    "meningeal_symptoms",
                    "i_para_n_olfactorius",
                    "ii_para_n_opticus",
                    "iii_para_n_oculomotorius",
                    "iv_para_n_trochlearis",
                    "v_para_n_trigeminus",
                    "vi_para_n_abducens",
                    "vii_para_n_fascialis",
                    "viii_para_n_vestibulocochlearis",
                    "ix_para_n_glossopharyngeus",
                    "x_para_n_vagus",
                    "xi_para_n_accessorius",
                    "xii_para_n_hypoglossus",
                    "motor_system",
                    "sensory_sphere",
                    "coordination_sphere",
                    "higher_brain_functions",
                    "syndromic_diagnosis_justification",
                    "topical_diagnosis_justification"
                  ],
                  "properties": {
                    "examination_id": {
                      "type": "string",
                      "example": "653f1b2c1a2b3c4d5e6f7a8b"
                    },
                    "meningeal_symptoms": {
                      "type": "string",
                      "example": "No meningeal signs detected"
                    },
                    "i_para_n_olfactorius": {
                      "type": "string",
                      "example": "Normal sense of smell"
                    },
                    "ii_para_n_opticus": {
                      "type": "string",
                      "example": "Visual acuity normal"
                    },
                    "iii_para_n_oculomotorius": {
                      "type": "string",
                      "example": "Pupillary reflexes normal"
                    },
                    "iv_para_n_trochlearis": {
                      "type": "string",
                      "example": "Eye movement normal"
                    },
                    "v_para_n_trigeminus": {
                      "type": "string",
                      "example": "Facial sensation intact"
                    },
                    "vi_para_n_abducens": {
                      "type": "string",
                      "example": "Lateral eye movement normal"
                    },
                    "vii_para_n_fascialis": {
                      "type": "string",
                      "example": "Facial muscle strength normal"
                    },
                    "viii_para_n_vestibulocochlearis": {
                      "type": "string",
                      "example": "Hearing and balance normal"
                    },
                    "ix_para_n_glossopharyngeus": {
                      "type": "string",
                      "example": "Gag reflex present"
                    },
                    "x_para_n_vagus": {
                      "type": "string",
                      "example": "Vocal cord function normal"
                    },
                    "xi_para_n_accessorius": {
                      "type": "string",
                      "example": "Shoulder shrug normal"
                    },
                    "xii_para_n_hypoglossus": {
                      "type": "string",
                      "example": "Tongue movement normal"
                    },
                    "motor_system": {
                      "type": "string",
                      "example": "Muscle strength 5/5 bilaterally"
                    },
                    "sensory_sphere": {
                      "type": "string",
                      "example": "All sensory modalities intact"
                    },
                    "coordination_sphere": {
                      "type": "string",
                      "example": "Finger-to-nose test normal"
                    },
                    "higher_brain_functions": {
                      "type": "string",
                      "example": "Alert and oriented x3"
                    },
                    "syndromic_diagnosis_justification": {
                      "type": "string",
                      "example": "Based on clinical presentation, patient shows signs of peripheral neuropathy"
                    },
                    "topical_diagnosis_justification": {
                      "type": "string",
                      "example": "Lesion likely located in the peripheral nervous system"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Neurological status created successfully"
            },
            "400": {
              "description": "Neurological status already exists for this examination"
            },
            "404": {
              "description": "Examination not found"
            }
          }
        }
      },
      "/neurological-status/get-all": {
        "get": {
          "tags": ["Neurological Status"],
          "summary": "Get all neurological statuses — Allowed roles: ceo, doctor, receptionist",
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "minimum": 1
              },
              "required": false
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "maximum": 100
              },
              "required": false
            },
            {
              "name": "examination_id",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "required": false
            }
          ],
          "responses": {
            "200": {
              "description": "List of neurological statuses"
            }
          }
        }
      },
      "/neurological-status/get-one/{id}": {
        "get": {
          "tags": ["Neurological Status"],
          "summary": "Get one neurological status by ID — Allowed roles: ceo, doctor, receptionist",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Neurological status found"
            },
            "404": {
              "description": "Neurological status not found"
            }
          }
        }
      },
      "/neurological-status/update/{id}": {
        "patch": {
          "tags": ["Neurological Status"],
          "summary": "Update a neurological status — Allowed roles: ceo, doctor",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "meningeal_symptoms": {
                      "type": "string",
                      "example": "No meningeal signs detected"
                    },
                    "i_para_n_olfactorius": {
                      "type": "string",
                      "example": "Normal sense of smell"
                    },
                    "ii_para_n_opticus": {
                      "type": "string",
                      "example": "Visual acuity normal"
                    },
                    "iii_para_n_oculomotorius": {
                      "type": "string",
                      "example": "Pupillary reflexes normal"
                    },
                    "iv_para_n_trochlearis": {
                      "type": "string",
                      "example": "Eye movement normal"
                    },
                    "v_para_n_trigeminus": {
                      "type": "string",
                      "example": "Facial sensation intact"
                    },
                    "vi_para_n_abducens": {
                      "type": "string",
                      "example": "Lateral eye movement normal"
                    },
                    "vii_para_n_fascialis": {
                      "type": "string",
                      "example": "Facial muscle strength normal"
                    },
                    "viii_para_n_vestibulocochlearis": {
                      "type": "string",
                      "example": "Hearing and balance normal"
                    },
                    "ix_para_n_glossopharyngeus": {
                      "type": "string",
                      "example": "Gag reflex present"
                    },
                    "x_para_n_vagus": {
                      "type": "string",
                      "example": "Vocal cord function normal"
                    },
                    "xi_para_n_accessorius": {
                      "type": "string",
                      "example": "Shoulder shrug normal"
                    },
                    "xii_para_n_hypoglossus": {
                      "type": "string",
                      "example": "Tongue movement normal"
                    },
                    "motor_system": {
                      "type": "string",
                      "example": "Muscle strength 5/5 bilaterally"
                    },
                    "sensory_sphere": {
                      "type": "string",
                      "example": "All sensory modalities intact"
                    },
                    "coordination_sphere": {
                      "type": "string",
                      "example": "Finger-to-nose test normal"
                    },
                    "higher_brain_functions": {
                      "type": "string",
                      "example": "Alert and oriented x3"
                    },
                    "syndromic_diagnosis_justification": {
                      "type": "string",
                      "example": "Based on clinical presentation, patient shows signs of peripheral neuropathy"
                    },
                    "topical_diagnosis_justification": {
                      "type": "string",
                      "example": "Lesion likely located in the peripheral nervous system"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Neurological status updated successfully"
            },
            "404": {
              "description": "Neurological status not found"
            }
          }
        }
      },
      "/neurological-status/delete/{id}": {
        "delete": {
          "tags": ["Neurological Status"],
          "summary": "Delete a neurological status — Allowed roles: ceo, doctor",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Neurological status deleted successfully"
            },
            "404": {
              "description": "Neurological status not found"
            }
          }
        }
      },
      "/prescription/get-all": {
        "get": {
          "tags": ["Prescription"],
          "summary": "Get all prescriptions — Allowed roles: ceo, doctor, nurse",
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "minimum": 1
              },
              "required": false
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "maximum": 100
              },
              "required": false
            },
            {
              "name": "patient_id",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "required": false
            },
            {
              "name": "doctor_id",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "required": false
            },
            {
              "name": "examination_status",
              "in": "query",
              "schema": {
                "type": "string",
                "enum": ["pending", "in-progress", "completed", "cancelled"]
              },
              "required": false,
              "description": "Filter by examination status"
            },
            {
              "name": "is_roomed",
              "in": "query",
              "schema": {
                "type": "string",
                "enum": ["true", "false"]
              },
              "required": false,
              "description": "Filter by examination room status"
            }
          ],
          "responses": {
            "200": {
              "description": "List of prescriptions"
            }
          }
        }
      },
      "/prescription/get-one/{id}": {
        "get": {
          "tags": ["Prescription"],
          "summary": "Get one prescription by ID — Allowed roles: ceo, doctor, nurse",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Prescription found"
            },
            "404": {
              "description": "Prescription not found"
            }
          }
        }
      },
      "/prescription/create": {
        "post": {
          "tags": ["Prescription"],
          "summary": "Create a new prescription — Allowed roles: ceo, doctor",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": ["examination_id", "items"],
                  "properties": {
                    "examination_id": {
                      "type": "string",
                      "example": "653f1b2c1a2b3c4d5e6f7a8b"
                    },
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "required": [
                          "medication_id",
                          "frequency",
                          "duration",
                          "instructions"
                        ],
                        "properties": {
                          "medication_id": {
                            "type": "string",
                            "example": "656a2b1c3d4e5f6789012345"
                          },
                          "addons": {
                            "type": "string",
                            "example": "Qo'shimcha ma'lumot"
                          },
                          "frequency": {
                            "type": "integer",
                            "example": 3
                          },
                          "duration": {
                            "type": "integer",
                            "example": 5
                          },
                          "instructions": {
                            "type": "string",
                            "example": "Take after meals"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Prescription created successfully"
            },
            "404": {
              "description": "Examination or Medication not found"
            }
          }
        }
      },
      "/prescription/update/{id}": {
        "patch": {
          "tags": ["Prescription"],
          "summary": "Update a prescription — Allowed roles: ceo, doctor",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": ["items"],
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "required": [
                          "medication_id",
                          "frequency",
                          "duration",
                          "instructions"
                        ],
                        "properties": {
                          "_id": {
                            "type": "string",
                            "example": "656a2b1c3d4e5f6789012346",
                            "description": "Optional - provide _id to preserve days data of existing item"
                          },
                          "medication_id": {
                            "type": "string",
                            "example": "656a2b1c3d4e5f6789012345"
                          },
                          "addons": {
                            "type": "string",
                            "example": "Qo'shimcha ma'lumot"
                          },
                          "frequency": {
                            "type": "integer",
                            "example": 2
                          },
                          "duration": {
                            "type": "integer",
                            "example": 7
                          },
                          "instructions": {
                            "type": "string",
                            "example": "Take before meals"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Prescription updated successfully"
            },
            "404": {
              "description": "Prescription or Medication not found"
            }
          }
        }
      },
      "/prescription/take-item/{id}": {
        "patch": {
          "tags": ["Prescription"],
          "summary": "Mark prescription item as taken for a day — Allowed roles: ceo, doctor, nurse, patient",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": ["item_id", "day", "image_url"],
                  "properties": {
                    "item_id": {
                      "type": "string",
                      "example": "656a2b1c3d4e5f6789012346"
                    },
                    "day": {
                      "type": "integer",
                      "minimum": 1,
                      "example": 3
                    },
                    "image_url": {
                      "type": "string",
                      "format": "uri",
                      "example": "https://example.com/uploads/medication-image.jpg",
                      "description": "URL of the image showing medication intake"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Prescription item day updated successfully"
            },
            "400": {
              "description": "Invalid day parameter | Maximum frequency reached for this day | Previous day not completed"
            },
            "401": {
              "description": "Unauthorized - invalid or expired token"
            },
            "404": {
              "description": "Prescription or Item or Day not found"
            }
          }
        }
      },
      "/prescription-template/get-all": {
        "get": {
          "tags": ["Prescription Template"],
          "summary": "Get all prescription templates — Allowed roles: ceo, admin, doctor",
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "minimum": 1
              },
              "required": false
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "maximum": 100
              },
              "required": false
            },
            {
              "name": "search",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "required": false,
              "description": "Search by template name"
            }
          ],
          "responses": {
            "200": {
              "description": "List of prescription templates"
            }
          }
        }
      },
      "/prescription-template/get-one/{id}": {
        "get": {
          "tags": ["Prescription Template"],
          "summary": "Get one prescription template by ID — Allowed roles: ceo, admin, doctor",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Prescription template found"
            },
            "404": {
              "description": "Prescription template not found"
            }
          }
        }
      },
      "/prescription-template/create": {
        "post": {
          "tags": ["Prescription Template"],
          "summary": "Create a new prescription template — Allowed roles: ceo, admin, doctor",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": ["name", "items"],
                  "properties": {
                    "name": {
                      "type": "string",
                      "minLength": 2,
                      "maxLength": 200,
                      "example": "Cold & Flu Template"
                    },
                    "items": {
                      "type": "array",
                      "minItems": 1,
                      "items": {
                        "type": "object",
                        "required": [
                          "medication_id",
                          "frequency",
                          "duration",
                          "instructions"
                        ],
                        "properties": {
                          "medication_id": {
                            "type": "string",
                            "example": "507f1f77bcf86cd799439011"
                          },
                          "addons": {
                            "type": "string",
                            "example": "After meals"
                          },
                          "frequency": {
                            "type": "integer",
                            "minimum": 1,
                            "example": 3,
                            "description": "Number of times per day"
                          },
                          "duration": {
                            "type": "integer",
                            "minimum": 1,
                            "example": 7,
                            "description": "Number of days"
                          },
                          "instructions": {
                            "type": "string",
                            "example": "Take one tablet three times a day after meals"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Prescription template created successfully"
            },
            "409": {
              "description": "Prescription template with this name already exists"
            }
          }
        }
      },
      "/prescription-template/update/{id}": {
        "patch": {
          "tags": ["Prescription Template"],
          "summary": "Update a prescription template — Allowed roles: ceo, admin, doctor",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string",
                      "minLength": 2,
                      "maxLength": 200,
                      "example": "Updated Cold & Flu Template"
                    },
                    "items": {
                      "type": "array",
                      "minItems": 1,
                      "items": {
                        "type": "object",
                        "properties": {
                          "medication_id": {
                            "type": "string",
                            "example": "507f1f77bcf86cd799439011"
                          },
                          "addons": {
                            "type": "string",
                            "example": "After meals"
                          },
                          "frequency": {
                            "type": "integer",
                            "minimum": 1,
                            "example": 3
                          },
                          "duration": {
                            "type": "integer",
                            "minimum": 1,
                            "example": 7
                          },
                          "instructions": {
                            "type": "string",
                            "example": "Take one tablet three times a day after meals"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Prescription template updated successfully"
            },
            "404": {
              "description": "Prescription template not found"
            },
            "409": {
              "description": "Prescription template with this name already exists"
            }
          }
        }
      },
      "/prescription-template/delete/{id}": {
        "delete": {
          "tags": ["Prescription Template"],
          "summary": "Delete a prescription template — Allowed roles: ceo, admin, doctor",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Prescription template deleted successfully"
            },
            "404": {
              "description": "Prescription template not found"
            }
          }
        }
      },
      "/service/get-all": {
        "get": {
          "tags": ["Service"],
          "summary": "Get all services — Allowed roles: ceo, doctor, nurse",
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "minimum": 1
              },
              "required": false
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "maximum": 100
              },
              "required": false
            },
            {
              "name": "patient_id",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "required": false
            },
            {
              "name": "doctor_id",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "required": false
            },
            {
              "name": "examination_status",
              "in": "query",
              "schema": {
                "type": "string",
                "enum": ["pending", "in-progress", "completed", "cancelled"]
              },
              "required": false,
              "description": "Filter by examination status"
            },
            {
              "name": "is_roomed",
              "in": "query",
              "schema": {
                "type": "string",
                "enum": ["true", "false"]
              },
              "required": false,
              "description": "Filter by examination room status"
            }
          ],
          "responses": {
            "200": {
              "description": "List of services"
            }
          }
        }
      },
      "/service/get-one/{id}": {
        "get": {
          "tags": ["Service"],
          "summary": "Get one service by ID — Allowed roles: ceo, doctor, nurse",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Service found"
            },
            "404": {
              "description": "Service not found"
            }
          }
        }
      },
      "/service/create": {
        "post": {
          "tags": ["Service"],
          "summary": "Create a new service — Allowed roles: ceo, doctor",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": ["examination_id", "duration", "items"],
                  "properties": {
                    "examination_id": {
                      "type": "string",
                      "example": "653f1b2c1a2b3c4d5e6f7a8b"
                    },
                    "duration": {
                      "type": "integer",
                      "example": 5,
                      "description": "Duration applies to all items"
                    },
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "required": ["service_type_id", "days"],
                        "properties": {
                          "service_type_id": {
                            "type": "string",
                            "example": "656a2b1c3d4e5f6789012345"
                          },
                          "days": {
                            "type": "array",
                            "description": "Days array length must equal duration",
                            "items": {
                              "type": "object",
                              "required": ["day"],
                              "properties": {
                                "day": {
                                  "type": "integer",
                                  "example": 1
                                },
                                "date": {
                                  "type": "string",
                                  "format": "date-time",
                                  "nullable": true,
                                  "example": null,
                                  "description": "Optional - backend sets is_completed to true if date is provided, false otherwise"
                                }
                              }
                            }
                          },
                          "notes": {
                            "type": "string",
                            "example": "Urgent service"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Service created successfully"
            },
            "404": {
              "description": "Examination or Service type not found"
            }
          }
        }
      },
      "/service/update/{id}": {
        "patch": {
          "tags": ["Service"],
          "summary": "Update a service — Allowed roles: ceo, doctor",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": ["duration", "items"],
                  "properties": {
                    "duration": {
                      "type": "integer",
                      "example": 7,
                      "description": "Duration applies to all items"
                    },
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "required": ["service_type_id", "days"],
                        "properties": {
                          "_id": {
                            "type": "string",
                            "example": "656a2b1c3d4e5f6789012346",
                            "description": "Optional - provide _id to preserve days data of existing item"
                          },
                          "service_type_id": {
                            "type": "string",
                            "example": "656a2b1c3d4e5f6789012345"
                          },
                          "days": {
                            "type": "array",
                            "description": "Days array length must equal duration",
                            "items": {
                              "type": "object",
                              "required": ["day"],
                              "properties": {
                                "day": {
                                  "type": "integer",
                                  "example": 1
                                },
                                "is_completed": {
                                  "type": "boolean",
                                  "example": false,
                                  "description": "Optional - whether this day is completed"
                                },
                                "date": {
                                  "type": "string",
                                  "format": "date-time",
                                  "nullable": true,
                                  "example": null,
                                  "description": "Optional - date when service was performed"
                                }
                              }
                            }
                          },
                          "notes": {
                            "type": "string",
                            "example": "Updated notes"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Service updated successfully"
            },
            "404": {
              "description": "Service or Service type not found"
            }
          }
        }
      },
      "/service/take-item/{id}": {
        "patch": {
          "tags": ["Service"],
          "summary": "Mark service item as taken for a day — Allowed roles: ceo, doctor, nurse",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": ["item_id", "day", "image_url"],
                  "properties": {
                    "item_id": {
                      "type": "string",
                      "example": "656a2b1c3d4e5f6789012346"
                    },
                    "day": {
                      "type": "integer",
                      "minimum": 1,
                      "example": 3
                    },
                    "image_url": {
                      "type": "string",
                      "format": "uri",
                      "example": "https://example.com/uploads/service-image.jpg",
                      "description": "URL of the image showing service completion"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Service item completed successfully"
            },
            "400": {
              "description": "Invalid day parameter | Service already completed for this day | Previous day not completed"
            },
            "401": {
              "description": "Unauthorized - invalid or expired token"
            },
            "404": {
              "description": "Service or Item or Day not found"
            }
          }
        }
      },
      "/service-template/get-all": {
        "get": {
          "tags": ["Service Template"],
          "summary": "Get all service templates — Allowed roles: ceo, admin, doctor",
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "minimum": 1
              },
              "required": false
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "maximum": 100
              },
              "required": false
            },
            {
              "name": "search",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "required": false,
              "description": "Search by template name"
            }
          ],
          "responses": {
            "200": {
              "description": "List of service templates"
            }
          }
        }
      },
      "/service-template/get-one/{id}": {
        "get": {
          "tags": ["Service Template"],
          "summary": "Get one service template by ID — Allowed roles: ceo, admin, doctor",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Service template found"
            },
            "404": {
              "description": "Service template not found"
            }
          }
        }
      },
      "/service-template/create": {
        "post": {
          "tags": ["Service Template"],
          "summary": "Create a new service template — Allowed roles: ceo, admin, doctor",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": ["name", "duration", "items"],
                  "properties": {
                    "name": {
                      "type": "string",
                      "minLength": 2,
                      "maxLength": 200,
                      "example": "General Checkup Package"
                    },
                    "duration": {
                      "type": "integer",
                      "minimum": 1,
                      "example": 120,
                      "description": "Duration in minutes"
                    },
                    "items": {
                      "type": "array",
                      "minItems": 1,
                      "items": {
                        "type": "object",
                        "required": ["service_type_id"],
                        "properties": {
                          "service_type_id": {
                            "type": "string",
                            "example": "507f1f77bcf86cd799439011"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Service template created successfully"
            },
            "409": {
              "description": "Service template with this name already exists"
            }
          }
        }
      },
      "/service-template/update/{id}": {
        "patch": {
          "tags": ["Service Template"],
          "summary": "Update a service template — Allowed roles: ceo, admin, doctor",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string",
                      "minLength": 2,
                      "maxLength": 200,
                      "example": "Updated Checkup Package"
                    },
                    "duration": {
                      "type": "integer",
                      "minimum": 1,
                      "example": 150,
                      "description": "Duration in minutes"
                    },
                    "items": {
                      "type": "array",
                      "minItems": 1,
                      "items": {
                        "type": "object",
                        "properties": {
                          "service_type_id": {
                            "type": "string",
                            "example": "507f1f77bcf86cd799439011"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Service template updated successfully"
            },
            "404": {
              "description": "Service template not found"
            },
            "409": {
              "description": "Service template with this name already exists"
            }
          }
        }
      },
      "/service-template/delete/{id}": {
        "delete": {
          "tags": ["Service Template"],
          "summary": "Delete a service template — Allowed roles: ceo, admin, doctor",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Service template deleted successfully"
            },
            "404": {
              "description": "Service template not found"
            }
          }
        }
      },
      "/daily-checkup/get-all": {
        "get": {
          "tags": ["Daily Checkup"],
          "summary": "Get all daily checkups — Allowed roles: ceo, doctor, nurse",
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "minimum": 1
              },
              "required": false
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "maximum": 100
              },
              "required": false
            },
            {
              "name": "patient_id",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "required": false,
              "description": "Filter by patient ID"
            },
            {
              "name": "nurse_id",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "required": false,
              "description": "Filter by nurse ID"
            },
            {
              "name": "room_id",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "required": false,
              "description": "Filter by room ID"
            },
            {
              "name": "examination_id",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "required": false,
              "description": "Filter by examination ID"
            },
            {
              "name": "current_date",
              "in": "query",
              "schema": {
                "type": "string",
                "format": "date-time"
              },
              "required": false,
              "description": "Filter by specific date (all checkups created on this date)",
              "example": "2025-12-08T00:00:00.000Z"
            },
            {
              "name": "search",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "required": false,
              "description": "Search by patient name or notes",
              "example": "John Doe"
            }
          ],
          "responses": {
            "200": {
              "description": "List of daily checkups"
            }
          }
        }
      },
      "/daily-checkup/get-one/{id}": {
        "get": {
          "tags": ["Daily Checkup"],
          "summary": "Get one daily checkup by ID — Allowed roles: ceo, doctor, nurse",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Daily checkup found"
            },
            "404": {
              "description": "Daily checkup not found"
            }
          }
        }
      },
      "/daily-checkup/unchecked-patients": {
        "get": {
          "tags": ["Daily Checkup"],
          "summary": "Get unchecked patients for today — Allowed roles: ceo, doctor, nurse",
          "description": "Returns all patients in rooms who have not had their daily checkup (blood pressure) recorded today",
          "responses": {
            "200": {
              "description": "List of unchecked patients",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Tekshirilmagan bemorlar muvaffaqiyatli olindi"
                      },
                      "total": {
                        "type": "integer",
                        "example": 5
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "patient": {
                              "type": "object",
                              "properties": {
                                "_id": {
                                  "type": "string"
                                },
                                "fullname": {
                                  "type": "string"
                                },
                                "phone": {
                                  "type": "string"
                                },
                                "gender": {
                                  "type": "string"
                                },
                                "date_of_birth": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "address": {
                                  "type": "string"
                                }
                              }
                            },
                            "room": {
                              "type": "object",
                              "properties": {
                                "_id": {
                                  "type": "string"
                                },
                                "room_name": {
                                  "type": "string"
                                },
                                "floor_number": {
                                  "type": "integer"
                                },
                                "corpus_id": {
                                  "type": "object",
                                  "properties": {
                                    "_id": {
                                      "type": "string"
                                    },
                                    "corpus_number": {
                                      "type": "integer"
                                    }
                                  }
                                }
                              }
                            },
                            "bed_number": {
                              "type": "integer",
                              "example": 1
                            },
                            "start_date": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "estimated_leave_time": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/daily-checkup/create": {
        "post": {
          "tags": ["Daily Checkup"],
          "summary": "Create a new daily checkup — Allowed roles: ceo, nurse",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": ["patient_id", "nurse_id", "room_id", "result"],
                  "properties": {
                    "patient_id": {
                      "type": "string",
                      "example": "653f1b2c1a2b3c4d5e6f7a8b",
                      "description": "Patient ID"
                    },
                    "nurse_id": {
                      "type": "string",
                      "example": "653f1b2c1a2b3c4d5e6f7a8c",
                      "description": "Nurse ID"
                    },
                    "room_id": {
                      "type": "string",
                      "example": "653f1b2c1a2b3c4d5e6f7a8d",
                      "description": "Room ID"
                    },
                    "result": {
                      "type": "object",
                      "required": ["systolic", "diastolic"],
                      "properties": {
                        "systolic": {
                          "type": "integer",
                          "minimum": 0,
                          "example": 120,
                          "description": "Yuqori qon bosimi"
                        },
                        "diastolic": {
                          "type": "integer",
                          "minimum": 0,
                          "example": 80,
                          "description": "Pastki qon bosimi"
                        }
                      }
                    },
                    "notes": {
                      "type": "string",
                      "example": "Barqaror holat, hech qanday shikoyat yo'q",
                      "description": "Qo'shimcha izohlar"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Daily checkup created successfully"
            },
            "404": {
              "description": "Patient or Room not found"
            }
          }
        }
      },
      "/daily-checkup/update/{id}": {
        "put": {
          "tags": ["Daily Checkup"],
          "summary": "Update daily checkup — Allowed roles: ceo, nurse",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Daily checkup ID"
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "result": {
                      "type": "object",
                      "properties": {
                        "systolic": {
                          "type": "integer",
                          "minimum": 0,
                          "example": 125,
                          "description": "Yuqori qon bosimi"
                        },
                        "diastolic": {
                          "type": "integer",
                          "minimum": 0,
                          "example": 85,
                          "description": "Pastki qon bosimi"
                        }
                      }
                    },
                    "notes": {
                      "type": "string",
                      "example": "Yangilangan izoh",
                      "description": "Qo'shimcha izohlar"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Daily checkup updated successfully"
            },
            "404": {
              "description": "Daily checkup not found"
            }
          }
        }
      },
      "/daily-checkup/delete/{id}": {
        "delete": {
          "tags": ["Daily Checkup"],
          "summary": "Delete daily checkup — Allowed roles: ceo, nurse",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Daily checkup ID"
            }
          ],
          "responses": {
            "200": {
              "description": "Daily checkup deleted successfully"
            },
            "404": {
              "description": "Daily checkup not found"
            }
          }
        }
      },
      "/history/get-all": {
        "get": {
          "tags": ["History"],
          "summary": "Get paginated list of patient history — Allowed roles: ceo, doctor, nurse",
          "parameters": [
            {
              "name": "page",
              "in": "query",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "default": 1
              },
              "description": "Page number"
            },
            {
              "name": "limit",
              "in": "query",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "maximum": 100,
                "default": 10
              },
              "description": "Number of items per page"
            },
            {
              "name": "search",
              "in": "query",
              "schema": {
                "type": "string"
              },
              "description": "Search by patient info or diagnosis"
            },
            {
              "name": "start_date",
              "in": "query",
              "schema": {
                "type": "string",
                "format": "date"
              },
              "description": "Filter by completed date start (YYYY-MM-DD)",
              "example": "2026-01-01"
            },
            {
              "name": "end_date",
              "in": "query",
              "schema": {
                "type": "string",
                "format": "date"
              },
              "description": "Filter by completed date end (YYYY-MM-DD)",
              "example": "2026-01-31"
            }
          ],
          "responses": {
            "200": {
              "description": "History list retrieved successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "_id": {
                              "type": "string",
                              "example": "507f1f77bcf86cd799439011"
                            },
                            "examination_id": {
                              "type": "string",
                              "example": "507f1f77bcf86cd799439012"
                            },
                            "patient_info": {
                              "type": "string",
                              "example": "Alimova Barno 1975"
                            },
                            "diagnosis": {
                              "type": "string",
                              "example": "Jigar kasalligi"
                            },
                            "prescriptions": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              },
                              "example": [
                                "L-lizin essinat 10.0+nacl 0.9% 100.0 vena ichiga tomchilatib N5",
                                "Aminokislota 250.0 vena ichiga tomchilab 2 kun kun ora"
                              ]
                            },
                            "completed_date": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2026-01-07T10:30:00.000Z"
                            },
                            "created_at": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "updated_at": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        }
                      },
                      "pagination": {
                        "type": "object",
                        "properties": {
                          "page": {
                            "type": "integer",
                            "example": 1
                          },
                          "limit": {
                            "type": "integer",
                            "example": 10
                          },
                          "total_count": {
                            "type": "integer",
                            "example": 100
                          },
                          "total_pages": {
                            "type": "integer",
                            "example": 10
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Validation error"
            }
          }
        }
      },
      "/history/get-one/{id}": {
        "get": {
          "tags": ["History"],
          "summary": "Get a single history record by ID — Allowed roles: ceo, doctor, nurse",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "History ID"
            }
          ],
          "responses": {
            "200": {
              "description": "History retrieved successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "_id": {
                            "type": "string",
                            "example": "507f1f77bcf86cd799439011"
                          },
                          "examination_id": {
                            "type": "string",
                            "example": "507f1f77bcf86cd799439012"
                          },
                          "patient_info": {
                            "type": "string",
                            "example": "Alimova Barno 1975"
                          },
                          "diagnosis": {
                            "type": "string",
                            "example": "Jigar kasalligi"
                          },
                          "prescriptions": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "example": [
                              "L-lizin essinat 10.0+nacl 0.9% 100.0 vena ichiga tomchilatib N5",
                              "Aminokislota 250.0 vena ichiga tomchilab 2 kun kun ora",
                              "Gepta 400mg+nacl 0.9% 100.0 vena ichiga tomchilab 5 kun",
                              "Zeprin 200mg ½ tab 1 mahal obedda 20 kun",
                              "Essensiale (germaniya) 1tab 2 mahal 20 kun",
                              "Glitsin 2tab 1 mahal kechqurun 20:00da 20 kun"
                            ]
                          },
                          "completed_date": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2026-01-07T10:30:00.000Z"
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "updated_at": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Invalid ID format"
            },
            "404": {
              "description": "History not found"
            }
          }
        }
      }
    }
  },
  "customOptions": {},
  "swaggerUrl": {}
}
